<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>TcFrame V2.0 API Docs</title>
<link href="style.css" rel="stylesheet"/>
<script language="javascript" src="load.js"></script>
</head>
<body style="background-color:#F5F5F5;">
<table width="90%" align="center" height="500px" cellpadding="0" cellspacing="1">
	<tr><td colspan="2" align="center" height="60px" class="title">TcFrame v2.0 API Docs</td></tr>
    <tr>
    	<td id="list" width="150px" valign="top" class="list"><script language="javascript">list();</script></td>
        <td id="contect" style="border:1px solid #666; vertical-align:top; padding:5px;">
        	<script language="javascript">
				title('TcFrame.ShortConnection');
				parent('TcFrame.Event');
				introduction('TcFrame与后端进行Ajax的通信类，支持GET和POST两种方式');
				
				document.write('<div class="title2-right">方法</div>');
				func(
					'ShortConnection(param)',
					'NULL',
					'TcFrame.ShortConnection',
					'构造函数'
				);
				func(
					'xmlHttp()',
					'NULL',
					'XMLHttpRequest',
					'返回一个ajax通信类。'
				);
				func(
					'get(param)',
					'<br>&emsp;&emsp;param.url:通信后台的文件地址'+
					'<br>&emsp;&emsp;param.data:传向后台的数据，data是json格式，但只有一层'+
					'<br>&emsp;&emsp;param.readyFunc:后台处理完成后执行的回调函数，回传参数是纯文本。',
					'NULL',
					'发送一个GET请求'
				);	
				
				func(
					'post(param)',
					'<br>&emsp;&emsp;param.url:通信后台的文件地址'+
					'<br>&emsp;&emsp;param.data:传向后台的数据，data是文本格式，可以是json转换而成的字符串'+
					'<br>&emsp;&emsp;param.readyFunc:后台处理完成后执行的回调函数，回传参数是纯文本。',
					'NULL',
					'发送一个POST请求'
				);	
				
				events([
					{label:"onError",info:"通信发生错误时触发"}
				]);
            </script>
            <div class="title2-right">示例</div>
            <div class="example">
var btnget=new TcFrame.Button({left:10,top:70,width:100,height:25,label:"GET请求"});&emsp;&emsp;<br>var btnpost=new TcFrame.Button({left:120,top:70,width:100,height:25,label:"POST请求"});<br>var shortConnection=new TcFrame.ShortConnection();<br>function getReady(response){alert(response);}<br>function get(){<br>&emsp;&emsp;shortConnection.get({<br>&emsp;&emsp;&emsp;&emsp;url:"php/GetDemo.php",<br>&emsp;&emsp;&emsp;&emsp;data:{id:’1’,param:’2’},<br>&emsp;&emsp;&emsp;&emsp;readyFunc:getReady<br>&emsp;&emsp;});<br>}<br>function post(){<br>&emsp;&emsp;shortConnection.post({<br>&emsp;&emsp;&emsp;&emsp;url:"php/PostDemo.php",<br>&emsp;&emsp;&emsp;&emsp;data:"id=1&param=2”,<br>&emsp;&emsp;&emsp;&emsp;readyFunc:getReady<br>&emsp;&emsp;});&emsp;&emsp;<br>}<br>btnget.addEventListener('onClick',get);<br>btnpost.addEventListener('onClick',post);<br> &emsp;	
            </div>		
        </td>
    </tr>
</table>
</body>
</html>
