var TCeditor=TCeditor||{};TCeditor.UI=function(c,f,w,h,d){var i=new TCeditor.display(c,f,w),m=new TCeditor.controlEngine(c,i,h,d);return{render:function(){i.render()},loadModel:function(c){m.loadModel(c)}}};TCeditor=TCeditor||{};
TCeditor.io=function(c,f,w,h){var d=null,i=!1,m="",s="";window.ActiveXObject?d=new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(d=new XMLHttpRequest);if(!d)return{};var q=function(c,e){d.open("POST",e,!0);d.onreadystatechange=function(){if(4==d.readyState&&200==d.status)0<d.responseText.length?alert(d.responseText):(h(w.getLanguage("s001")),i?window.location=f:(m=s,s=""))};d.setRequestHeader("Content-Type","application/x-www-form-urlencoded;");d.send(c)},x=function(d,h){s=d;d!=m&&q("ThingBody="+
d+"&ThingThumbnail="+h,c)};return{save:function(c,d){x(c,d)},exit:function(c,d){c!=m&&confirm(w.getLanguage("a019"))?(i=!0,x(c,d)):window.location=f},model:function(c){m=c}}};TCeditor=TCeditor||{};
TCeditor.controlEngine=function(c,f,w,h){var c=new TCeditor.mouseEvent(c),d=f.lng(),i=new TCeditor.geometryEvent(f.getCubeCamera()),m=new TCeditor.keyboard,s=new TCeditor.io(w,h,d,f.cmdAlert),q="selectObjBtn",x="",z="",e=!0,o=null,v=null,j=null,B=null,p=!1,l=[],J=4,H=3,u=3,C=3,A=function(c){""==c?q=x:(x=q,q=c)},I=function(c,o){var k=null;try{k=JSON.parse(c)}catch(F){alert(d.getLanguage("a013"));return}var E=k.geometrys;if(!E||!E.length||1>E.length)alert(_language.get("a013"));else{if("import"!=o&&
0<l.length&&confirm(d.getLanguage("a012")))for(;0<l.length;)l=i.del(l[0],l);l=i.open(E,l,f.getScene());k=k.lookPos;"import"!=o&&k&&k.length&&2==k.length&&(f.setCameraPos(k[0]),f.setCameraLook(k[1]))}},E=function(c){1>l.length?alert(d.getLanguage("a014")):"in"==c?f.ioWindow("save",i.save(l,f)):s.save(i.save(l,f),f.printScene(250,160))};f.funEnable(function(c){e=c;m.enable(c)});f.funWindow(function(c,d){if("cancel"==c)f.clearWindow(d);else if("move"==c)o=d;else if("clearmove"==c)o=null;else if("ok"==
c)if("material"==d.typeid)d.ok();else{var k=d.getValue();k&&(f.clearWindow(d),k=f.createGeometry(k),l.push(k),j&&i.debug(j,!1,3381759),j=k,i.debug(j,!0,3381759))}else"reset"==c?"material"==d.typeid?d.clearValue():d.resetValue():"preview"==c?d.preview():"b001"==c||"b004"==c?f.clearWindow(d):"b008"==c?d.resetValue():"b007"==c?(I(d.getValue(),""),f.clearWindow(d)):"b009"==c&&(I(d.getValue(),"import"),f.clearWindow(d))});c.MouseMove(function(c,E,k){var F=f.getMouse3D(c),h=f.getMouse3D(E);f.msgAlert(d.getLanguage("l001")+
l.length+" "+d.getLanguage("l002")+"x="+parseInt(F.x)+" y="+parseInt(F.y)+" z="+parseInt(F.z));var L="";f.inButtonBars(c)&&(L=f.getButtonOver(),f.cmdAlert(d.getCommand(L)));if(k){if(o){f.moveWindow(o,c.x-E.x,c.y-E.y);return}if("camera_ctrl_cir"==z&&e){f.CameraRotate("B",c.x-E.x);return}if("camera_freemove"==z&&e||-1<z.indexOf("camera_ctrl")){f.CameraRotate("B",c.x-E.x);f.CameraRotate("A",c.y-E.y);return}if("camera_zoom"==q&&e){f.CameraZoom(c.x-E.x);return}if("camera_move"==q&&e){f.CameraLookAt(c.x-
E.x,c.y-E.y);return}"moveObjBtn"==q&&j&&e&&i.move(j,h,F,J);"scaleObjBtn"==q&&j&&e&&i.scale(j,(c.x-E.x)/f.getSize().width,(c.y-E.y)/f.getSize().height,h,F,H,f.getCameraPos().d);"rotateObjBtn"==q&&j&&e&&i.rotate(j,(c.x-E.x)/f.getSize().width,(c.y-E.y)/f.getSize().height,f.getCameraPos().a,f.getCameraPos().b,u)}if(f.inCameraController(c))c=f.getCameraControlCMD(c),z=""!=c?c:"camera_freemove",f.cmdAlert(d.getCommand(z));else{if(B&&p)B.position=F;c=f.findGeometry(c);v&&(v==j?i.debug(v,!0,3381759):i.debug(v,
!1,3381759));(v=c)&&(v==j?i.debug(v,!0,16777215):i.debug(v,!0,16776960));z=""}});c.MouseUp(function(c,o){f.hideMenuItem();if(f.inButtonBars(c)){var k=f.getButtonBarsCMD();""!=k&&"click"==o&&(z=k,f.clearButtonBarsCMD())}if("objCopyBtn"==z)j?B=i.copy(j):alert(d.getLanguage("a004"));else if(-1<z.indexOf("printsreamBtn"))window.open(f.printScene(600,400),"mywindow");else if(-1<z.indexOf("newBtn")){if(0<l.length&&confirm(d.getLanguage("a012")))for(;0<l.length;)l=i.del(l[0],l)}else if(-1<z.indexOf("saveBtn"))E("");
else if(-1<z.indexOf("openBtn"))f.ioWindow("open","");else if(-1<z.indexOf("importBtn"))f.ioWindow("import","");else if(-1<z.indexOf("exportBtn"))j?f.ioWindow("export",i.save([j],f)):alert(d.getLanguage("a004"));else if("setBtn"==z)f.helpWindow();else if(-1<z.indexOf("exitBtn")&&s.exit(i.save(l,f),f.printScene(250,160)),-1<z.indexOf("addGeoBtn:"))f.createWindow(z.split(":")[1]);else if(-1<z.indexOf("camera_ctrl")&&"click"==o)f.CameraRotate(z);else if("camera_home"==z&&"click"==o)f.CameraRotate("reset");
else if("delGeoBtn"==z&&"click"==o)j&&confirm(d.getLanguage("a011"))?(l=i.del(j,l),j=null):z="selectObjBtn";else if("unGroupBtn"==z)!j||!j.isgroup?alert(d.getLanguage("a003")):j.islocked?alert(d.getLanguage("a010")):(k=i.ungroup(j,l),l=k[0],j=k[1],i.debug(j,!0,3381759));else if("lockGroupBtn"==z)!j||!j.isgroup?alert(d.getLanguage("a003")):j.islocked||i.lockgroup(j);else if("objPasteBtn"==q&&p&&B&&""==z)k=i.copy(B),k.position=f.getMouse3D(c),l.push(k),f.getScene().add(k);else if("selectObjBtn"==q&&
v&&"click"==o)j&&i.debug(j,!1,3381759),j=v,i.debug(j,!0,16777215);else if("doGroupBtn"==q&&j&&v&&v!=j)k=i.group(j,v,l),""!=k[2]?alert(d.getLanguage(k[2])):(l=k[0],j=k[1]);else if("copyAxisBtn"==q&&j&&v&&v!=j)k=i.axis(j,v,C),""!=k&&alert(d.getLanguage(k));else{if("objPasteBtn"==z){if(!B){alert(d.getLanguage("a002"));return}p||(p=!0,f.getScene().add(B))}-1<z.indexOf("moveObjBtn:")&&(J=-1<z.indexOf("X")?3:-1<z.indexOf("Y")?2:-1<z.indexOf("Z")?1:4,z="moveObjBtn");-1<z.indexOf("scaleObjBtn:")&&(-1<z.indexOf("_3")?
H=3:-1<z.indexOf("_2")?H=2:-1<z.indexOf("_1")&&(H=1),z="scaleObjBtn");-1<z.indexOf("rotateObjBtn:")&&(u=-1<z.indexOf("X")?2:-1<z.indexOf("Y")?3:-1<z.indexOf("Z")?1:4,z="rotateObjBtn");-1<z.indexOf("copyAxisBtn:")&&(-1<z.indexOf("X")?C=3:-1<z.indexOf("Y")?C=2:-1<z.indexOf("Z")&&(C=1),z="copyAxisBtn");if(""!=z&&-1<"camera_zoom_camera_move_moveObjBtn_selectObjBtn_doGroupBtn_scaleObjBtn_rotateObjBtn_copyAxisBtn_objPasteBtn_".indexOf(z)){if(!j&&("moveObjBtn"==z||"doGroupBtn"==z||"scaleObjBtn"==z||"rotateObjBtn"==
z||"copyAxisBtn"==z))alert(d.getLanguage("a001")),z="selectObjBtn";"rotateObjBtn"==z&&j.isgroup&&!j.islocked&&(alert(d.getLanguage("a005")),z="selectObjBtn");A(z);f.active(q)}"objPasteBtn"!=q&&p&&B&&(p=!1,f.getScene().remove(B))}});c.MouseWheel(function(c){e&&f.CameraZoom(c)});c.Resize(function(){f.resize()});m.event(function(c){if(!j&&("r"==c||"m"==c||"t"==c||"c"==c||"g"==c||"b"==c||"ctrl+c"==c||"shift+e"==c||"delete"==c||"backspace"==c))alert(d.getLanguage("a001")),A("selectObjBtn"),f.active("selectObjBtn");
else{var o="";switch(c){case "`":f.CameraRotate("reset");break;case "1":f.CameraRotate("camera_ctrl_font");break;case "2":f.CameraRotate("camera_ctrl_right");break;case "3":f.CameraRotate("camera_ctrl_back");break;case "4":f.CameraRotate("camera_ctrl_left");break;case "5":f.CameraRotate("camera_ctrl_top");break;case "6":f.CameraRotate("camera_ctrl_bottom");break;case "w":f.CameraLookAt(0,5);break;case "s":f.CameraLookAt(0,-5);break;case "d":f.CameraLookAt(5,0);break;case "a":f.CameraLookAt(-5,0);
break;case "e":f.CameraRotate("B",2);break;case "q":f.CameraRotate("B",-2);break;case "ctrl+s":E();break;case "ctrl+c":B=i.copy(j);break;case "ctrl+v":if(!B){alert(d.getLanguage("a002"));return}p||(p=!0,f.getScene().add(B));A("objPasteBtn");f.active("objPasteBtn");break;case "shift+n":if(0<l.length&&confirm(d.getLanguage("a012")))for(;0<l.length;)l=i.del(l[0],l);break;case "shift+i":f.ioWindow("import","");break;case "shift+o":f.ioWindow("open","");break;case "shift+e":f.ioWindow("export",i.save([j],
f));break;case "shift+s":E("in");break;case "shift+p":window.open(f.printScene(600,400),"mywindow");break;case "r":o="rotateObjBtn";break;case "m":o="moveObjBtn";break;case "t":o="scaleObjBtn";break;case "c":o="copyAxisBtn";break;case "g":A("doGroupBtn");f.active("doGroupBtn");break;case "b":if(!j.isgroup){alert(d.getLanguage("a003"));return}if(j.islocked){alert(d.getLanguage("a010"));return}c=i.ungroup(j,l);l=c[0];j=c[1];i.debug(j,!0,3381759);break;case "l":if(!j||!j.isgroup){alert(d.getLanguage("a003"));
return}if(!j.islocked){i.lockgroup(j);return}break;case "esc":A("selectObjBtn");f.active("selectObjBtn");j&&(i.debug(j,!1,16776960),j=null);B&&p&&(p=!1,f.getScene().remove(B));break;case "delete":confirm(d.getLanguage("a011"))&&(l=i.del(j,l),j=null);break;case "backspace":confirm(d.getLanguage("a011"))&&(l=i.del(j,l),j=null)}""!=o&&(q==o?f.showMenu(o):(A(o),f.active(o)));return!1}});return{loadModel:function(c){I(c,"");s.model(c)}}};TCeditor=TCeditor||{};
TCeditor.geometryEvent=function(c){var f=new TCeditor.materials(c),w=new TCeditor.geometry(c),h=function(c,d){for(var h=[],f=0;f<d.length;f++)d[f]!=c&&h.push(d[f]);c.parent.remove(c);return h},d=function(c){var d={x:0,y:0,z:0};if(0==c.length)return d;if(1==c.length)return{x:c[0].position.x,y:c[0].position.y,z:c[0].position.z};for(n=0;n<c.length;n++)d.x+=parseFloat(c[n].position.x),d.y+=parseFloat(c[n].position.y),d.z+=parseFloat(c[n].position.z);return{x:d.x/c.length,y:d.y/c.length,z:d.z/c.length}},
i=function(c,d){c.groupid=d.id;c.scale.x/=d.scale.x;c.scale.y/=d.scale.y;c.scale.z/=d.scale.z;c.position.x=(parseFloat(c.position.x)-parseFloat(d.position.x))/d.scale.x;c.position.y=(parseFloat(c.position.y)-parseFloat(d.position.y))/d.scale.y;c.position.z=(parseFloat(c.position.z)-parseFloat(d.position.z))/d.scale.z;d.add(c);var h=0,f=0,p=0;for(n=0;n<d.children.length;n++)h+=parseFloat(d.children[n].position.x)*parseFloat(d.scale.x)+parseFloat(d.position.x),f+=parseFloat(d.children[n].position.y)*
parseFloat(d.scale.y)+parseFloat(d.position.y),p+=parseFloat(d.children[n].position.z)*parseFloat(d.scale.z)+parseFloat(d.position.z);h/=d.children.length;f/=d.children.length;p/=d.children.length;dx=h-parseFloat(d.position.x);dy=f-parseFloat(d.position.y);dz=p-parseFloat(d.position.z);d.position.x=h;d.position.y=f;d.position.z=p;for(n=0;n<d.children.length;n++)d.children[n].position.x=parseFloat(d.children[n].position.x)-dx*parseFloat(d.scale.x),d.children[n].position.y=parseFloat(d.children[n].position.y)-
dy*parseFloat(d.scale.y),d.children[n].position.z=parseFloat(d.children[n].position.z)-dz*parseFloat(d.scale.z);return d},m=function(c,v,j){var f=null,p=[],l=null;if(c.isgroup&&!v.isgroup){if(c.islocked)return[null,null,"a007"];f=c.parent;p=h(v,h(c,j));l=i(v,c);p.push(l);f.add(l);return[p,l,""]}if(!c.isgroup&&v.isgroup){if(v.islocked)return[null,null,"a008"];if(c.islocked)return[null,null,"a007"];f=c.parent;p=h(v,h(c,j));l=i(c,v);p.push(l);f.add(l);return[p,l,""]}if(c.isgroup&&v.isgroup){if(c.islocked)return[null,
null,"a007"];if(v.islocked)return[null,null,"a008"];f=c.parent;p=h(v,h(c,j));j=[];l=new THREE.Object3D;l.id=(new Date).getTime();for(l.isgroup=!0;0<c.children.length;){var e=c.children[0];e.groupid=l.id;e.scale.x*=c.scale.x;e.scale.y*=c.scale.y;e.scale.z*=c.scale.z;e.position.x=parseFloat(c.position.x)+parseFloat(e.position.x)*parseFloat(c.scale.x);e.position.y=parseFloat(c.position.y)+parseFloat(e.position.y)*parseFloat(c.scale.y);e.position.z=parseFloat(c.position.z)+parseFloat(e.position.z)*parseFloat(c.scale.z);
c.remove(e);j.push(e)}for(;0<v.children.length;)e=v.children[0],e.groupid=l.id,e.scale.x*=v.scale.x,e.scale.y*=v.scale.y,e.scale.z*=v.scale.z,e.position.x=parseFloat(v.position.x)+parseFloat(e.position.x)*parseFloat(v.scale.x),e.position.y=parseFloat(v.position.y)+parseFloat(e.position.y)*parseFloat(v.scale.y),e.position.z=parseFloat(v.position.z)+parseFloat(e.position.z)*parseFloat(v.scale.z),v.remove(e),j.push(e);c=d(j);l.position=c;for(v=0;v<j.length;v++)e=j[v],e.position.x=parseFloat(e.position.x)-
parseFloat(c.x),e.position.y=parseFloat(e.position.y)-parseFloat(c.y),e.position.z=parseFloat(e.position.z)-parseFloat(c.z),l.add(e);p.push(l);f.add(l);return[p,l,""]}f=c.parent;p=h(v,h(c,j));j=d([c,v]);l=new THREE.Object3D;l.id=(new Date).getTime();l.isgroup=!0;l.position=j;c.groupid=l.id;c.position.x=parseFloat(c.position.x)-parseFloat(j.x);c.position.y=parseFloat(c.position.y)-parseFloat(j.y);c.position.z=parseFloat(c.position.z)-parseFloat(j.z);v.groupid=l.id;v.position.x=parseFloat(v.position.x)-
parseFloat(j.x);v.position.y=parseFloat(v.position.y)-parseFloat(j.y);v.position.z=parseFloat(v.position.z)-parseFloat(j.z);l.add(v);l.add(c);p.push(l);f.add(l);return[p,l,""]},s=function(c){var d=new THREE.Object3D;d.id=(new Date).getTime();d.isgroup=!0;d.islocked=c.islocked||c.l;if(c.position){d.position={x:parseFloat(c.position.x),y:parseFloat(c.position.y),z:parseFloat(c.position.z)};d.rotation={x:parseFloat(c.rotation.x),y:parseFloat(c.rotation.y),z:parseFloat(c.rotation.z)};d.scale={x:parseFloat(c.scale.x),
y:parseFloat(c.scale.y),z:parseFloat(c.scale.z)};for(var h=0;h<c.meshArr.length;h++){var e=q(c.meshArr[h],d.id);e&&d.add(e)}}else if(c.p){d.position={x:parseFloat(c.p[0]),y:parseFloat(c.p[1]),z:parseFloat(c.p[2])};d.rotation={x:parseFloat(c.r[0]),y:parseFloat(c.r[1]),z:parseFloat(c.r[2])};d.scale={x:parseFloat(c.s[0]),y:parseFloat(c.s[1]),z:parseFloat(c.s[2])};for(h=0;h<c.a.length;h++)(e=q(c.a[h],d.id))&&d.add(e)}else return null;return d},q=function(c,d){var h,e,p,l,i,m;if(c.p)h=c.c,e={x:parseFloat(c.p[0]),
y:parseFloat(c.p[1]),z:parseFloat(c.p[2])},p={x:parseFloat(c.r[0]),y:parseFloat(c.r[1]),z:parseFloat(c.r[2])},m={x:parseFloat(c.s[0]),y:parseFloat(c.s[1]),z:parseFloat(c.s[2])},l=c.m,i=c.t;else if(c.position)h=c.corner,e={x:parseFloat(c.position.x),y:parseFloat(c.position.y),z:parseFloat(c.position.z)},p={x:parseFloat(c.rotation.x),y:parseFloat(c.rotation.y),z:parseFloat(c.rotation.z)},m={x:parseFloat(c.scale.x),y:parseFloat(c.scale.y),z:parseFloat(c.scale.z)},l=c.materialsStr,i=c.params;else return null;
var u=null;l&&(u=f.makeMultiMaterial(l));h=w.produce(i,u,h,e,p,l);h.id=(new Date).getTime();h.scale=m;h.groupid=d;return h},x=function(c){var d={g:!0,l:c.islocked,p:[e(c.position.x,4),e(c.position.y,4),e(c.position.z,4)],r:[e(c.rotation.x,4),e(c.rotation.y,4),e(c.rotation.z,4)],s:[e(c.scale.x,4),e(c.scale.y,4),e(c.scale.z,4)],a:[]};for(g=0;g<c.children.length;g++){var h=z(c.children[g]);h&&d.a.push(h)}return 1>c.children.length?null:d},z=function(c){return{p:[e(c.position.x,4),e(c.position.y,4),e(c.position.z,
4)],r:[e(c.rotation.x,4),e(c.rotation.y,4),e(c.rotation.z,4)],s:[e(c.scale.x,4),e(c.scale.y,4),e(c.scale.z,4)],t:c.params,c:c.corner,m:c.materialsStr}},e=function(c,d){for(var h=c.toString(),e="",f=-1,l=0;l<h.length;l++)if(-1==f&&"."!=h.charAt(l))e+=h.charAt(l);else if(-1==f&&"."==h.charAt(l))e+=h.charAt(l),f=0;else if(-1<f&&f<d)e+=h.charAt(l),f++;else if(f>d)break;return e};return{open:function(c,d,h){for(var e=0;e<c.length;e++){var f=null;if(f=c[e].g||c[e].isgroup?s(c[e]):q(c[e]))h.add(f),d.push(f)}return d},
save:function(c,d){for(var h={geometrys:[],lookPos:[]},e=0;e<c.length;e++){var f=null;(f=c[e].isgroup?x(c[e]):z(c[e]))&&h.geometrys.push(f)}e=d.getCameraPos();f=d.getCameraLook();h.lookPos.push(e);h.lookPos.push(f);return JSON.stringify(h)},copy:function(c){return c.isgroup?s(JSON.parse(JSON.stringify(x(c)))):q(JSON.parse(JSON.stringify(z(c))))},debug:function(c,d,h){if(c.groupid)c=c.parent;if(c.isgroup)for(var e=0;e<c.children.length;e++){var f=c.children[e];d?f.add(f.debug):f.remove(f.debug);f.debug.children[0].material.color.setHex(h)}else f=
c,d?f.add(f.debug):f.remove(f.debug),f.debug.children[0].material.color.setHex(h)},move:function(c,d,h,e){var f=parseFloat(h.x)-parseFloat(d.x),l=parseFloat(h.y)-parseFloat(d.y),d=parseFloat(h.z)-parseFloat(d.z);1==Math.abs(f)&&(f=0);1==Math.abs(l)&&(l=0);1==Math.abs(d)&&(d=0);if(4==e)c.position.x=parseFloat(c.position.x)+f,c.position.y=parseFloat(c.position.y)+l,c.position.z=parseFloat(c.position.z)+d;if(3==e)c.position.x=parseFloat(c.position.x)+f;if(2==e)c.position.y=parseFloat(c.position.y)+l;
if(1==e)c.position.z=parseFloat(c.position.z)+d},del:function(c,d){return h(c,d)},group:function(c,d,h){return m(c,d,h)},ungroup:function(c,d){var e,f=c.parent,i=null;for(e=h(c,d);0<c.children.length;){var l=c.children[0];i||(i=l);l.groupid=null;l.scale.x*=c.scale.x;l.scale.y*=c.scale.y;l.scale.z*=c.scale.z;l.position.x=parseFloat(c.position.x)+parseFloat(l.position.x)*parseFloat(c.scale.x);l.position.y=parseFloat(c.position.y)+parseFloat(l.position.y)*parseFloat(c.scale.y);l.position.z=parseFloat(c.position.z)+
parseFloat(l.position.z)*parseFloat(c.scale.z);c.remove(l);l.remove(l.debug);e.push(l);f.add(l)}return[e,i]},lockgroup:function(c){c.islocked=!0},scale:function(c,d,h,e,f,l,i){var h=parseFloat(f.x)-parseFloat(e.x),m=parseFloat(f.y)-parseFloat(e.y),e=parseFloat(f.z)-parseFloat(e.z);1==Math.abs(h)&&(h=0);1==Math.abs(m)&&(m=0);1==Math.abs(e)&&(e=0);3==l?(c.scale.x+=d,c.scale.y+=d,c.scale.z+=d):(2==l&&(0==m&&(c.scale.x+=h/i,c.scale.z+=h/i),0==h&&(c.scale.y+=e/i,c.scale.z+=e/i),0==e&&(c.scale.y+=h/i,c.scale.x+=
h/i)),1==l&&(0!=h&&(c.scale.x+=h/i),0!=m&&(c.scale.y+=m/i),0!=e&&(c.scale.z+=e/i)))},rotate:function(c,d,h,e,f,l){var e=parseFloat(c.rotation.x),i=parseFloat(c.rotation.y),m=parseFloat(c.rotation.z);if(4==l)c.rotation.y=i+d,c.rotation.x=e+h*Math.sin(f)*Math.abs(f)/f,c.rotation.z=m-h*Math.cos(f)*Math.abs(f)/f;if(3==l)c.rotation.y=i+d;if(2==l)c.rotation.x=e+d;if(1==l)c.rotation.z=m+d},axis:function(c,d,h){if(c.isgroup&&!d.groupid)c="a006";else{if(3==h)d.position.x=c.position.x;if(2==h)d.position.y=
c.position.y;if(1==h)d.position.z=c.position.z;c=""}return c}}};TCeditor=TCeditor||{};
TCeditor.mouseEvent=function(c){for(var c=c||document.body,f=0,w=0,h=c;null!=h&&null!=h.offsetLeft;)w+=h.offsetLeft,f+=h.offsetTop,h=h.parentNode;var d=null,i=null,m=null,s=null,q=!1,x=0,z={x:-1,y:-1};c.addEventListener("mousedown",function(c){q=!0;z={x:c.clientX-w,y:c.clientY-f};x=(new Date).getTime()},!1);c.addEventListener("mouseup",function(c){var d="";q=!1;_tmpMouse={x:c.clientX-w,y:c.clientY-f};d=1>Math.abs(_tmpMouse.x-z.x)&&1>Math.abs(_tmpMouse.y-z.y)&&500>(new Date).getTime()-x?"click":"move";
i&&i(_tmpMouse,d)},!1);c.addEventListener("mousemove",function(c){_tmpMouse={x:c.clientX-w,y:c.clientY-f};d&&d(_tmpMouse,z,q);z=_tmpMouse},!1);c.addEventListener("mouseOut",function(){q=!1;x=-1},!1);c.onmousewheel=function(c){m&&m(c.wheelDelta)};window.onresize=function(){s()};document.onselectstart=function(){event.returnValue=!1};return{MouseMove:function(c){d=c},MouseUp:function(c){i=c},MouseWheel:function(c){m=c},Resize:function(c){s=c}}};TCeditor=TCeditor||{};
TCeditor.keyboard=function(){var c=!1,f=!1,w="",h=null,d=!0,i={27:"esc",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",192:"`",189:"-",187:"+",8:"backspace",9:"tab",219:"[",221:"]",220:"\\",
20:"caps",186:";",222:"'",13:"enter",188:",",190:".",191:"/",46:"delete",36:"home",32:"space",33:"pagedown",34:"pageup",37:"left",38:"up",39:"right",40:"down",93:"menu"};document.onkeydown=function(m){if(!d)return!0;m=m.which||m.keyCode;if(16==m)return f=!0,c=!1;if(17==m)return f=!1,c=!0,!1;if(229==m)return alert("\u8bf7\u5173\u95ed\u4e2d\u6587\u8f93\u5165\u6cd5"),!1;w="";f&&(w="shift+");c&&(w="ctrl+");if(!i[m])return!1;w+=i[m];h(w);return c=f=!1};document.onkeyup=function(h){if(!d)return!0;h=h.which||
h.keyCode;if(16==h)return f=!1;17==h&&(c=!1);return!1};return{event:function(c){h=c},enable:function(c){d=c}}};TCeditor=TCeditor||{};
TCeditor.information=function(c){var c=new TCeditor.language(c),f={fileBtn:{btn:null,childmenuStr:"newBtn;openBtn;importBtn;exportBtn;printsreamBtn",childContainer:null,childShow:false},saveBtn:{btn:null,childmenuStr:null,childContainer:null,childShow:!1},selectObjBtn:{btn:null,childmenuStr:null,childContainer:null,childShow:!1},objCopyBtn:{btn:null,childmenuStr:null,childContainer:null,childShow:!1},objPasteBtn:{btn:null,childmenuStr:null,childContainer:null,childShow:!1},moveObjBtn:{btn:null,childmenuStr:"moveAllBtn;moveXBtn;moveYBtn;moveZBtn",childContainer:null,childShow:!1},rotateObjBtn:{btn:null,childmenuStr:"rotationYBtn;rotationXBtn;rotationZBtn;rotationAllBtn",
childContainer:null,childShow:!1},scaleObjBtn:{btn:null,childmenuStr:"scaleTypeBtn_3;scaleTypeBtn_2;scaleTypeBtn_1",childContainer:null,childShow:!1},copyAxisBtn:{btn:null,childmenuStr:"copyAxisXBtn;copyAxisYBtn;copyAxisZBtn",childContainer:null,childShow:!1},doGroupBtn:{btn:null,childmenuStr:null,childContainer:null,childShow:!1},unGroupBtn:{btn:null,childmenuStr:null,childContainer:null,childShow:!1},lockGroupBtn:{btn:null,childmenuStr:null,childContainer:null,childShow:!1},delGeoBtn:{btn:null,
childmenuStr:null,childContainer:null,childShow:!1},setBtn:{btn:null,childmenuStr:null,childContainer:null,childShow:!1},exitBtn:{btn:null,childmenuStr:null,childContainer:null,childShow:!1}},w={cube:[36,"jpg"],ground:[79,"jpg"],lava:[4,"png"],planets:[4,"jpg"],normal:[1,"jpg"]},h={planeBtn:{width:600,height:173,title:c.getLanguage("c001"),type:"PlaneGeometry",btn:"planeBtn",ctrlobj:{args:{length:{value:200,step:5,max:1E3,min:10},width:{value:200,step:5,max:1E3,min:10},lengthCut:{value:4,step:1,max:10,
min:1},widthCut:{value:4,step:1,max:10,min:1}},help:c.getLanguage("h002")}},cubeBtn:{width:600,height:197,title:c.getLanguage("c002"),type:"CubeGeometry",btn:"cubeBtn",ctrlobj:{help:c.getLanguage("h002"),args:{length:{value:200,step:5,max:1E3,min:10},width:{value:200,step:5,max:1E3,min:10},height:{value:200,step:5,max:1E3,min:10},lengthCut:{value:4,step:1,max:10,min:1},widthCut:{value:4,step:1,max:10,min:1},heightCut:{value:4,step:1,max:10,min:1}}}},sphereBtn:{width:600,height:171,title:c.getLanguage("c003"),
type:"SphereGeometry",btn:"sphereBtn",ctrlobj:{help:c.getLanguage("h002"),args:{radius:{value:100,step:5,max:1E3,min:10},radiusCut:{value:20,step:1,max:100,min:1},heightCut:{value:20,step:1,max:100,min:1}}}},icosahedronBtn:{width:600,height:147,title:c.getLanguage("c004"),type:"IcosahedronGeometry",btn:"icosahedronBtn",ctrlobj:{help:c.getLanguage("h003"),args:{size:{value:75,step:5,max:100,min:1},seg:{value:2,step:1,max:10,min:1}}}},cylinderBtn:{width:600,height:171,title:c.getLanguage("c005"),type:"CylinderGeometry",
btn:"cylinderBtn",ctrlobj:{help:c.getLanguage("h002"),args:{radius:{value:100,step:5,max:1E3,min:10},height:{value:200,step:5,max:1E3,min:10},radiusCut:{value:20,step:1,max:100,min:5},heightCut:{value:1,step:1,max:10,min:1}}}},cylinderCBtn:{width:600,height:171,title:c.getLanguage("c006"),type:"CylinderGeometry",btn:"cylinderCBtn",ctrlobj:{help:c.getLanguage("h004"),args:{radius:{value:100,step:5,max:1E3,min:10},height:{value:200,step:5,max:1E3,min:10},radiusCut:{value:3,step:1,max:10,min:3},heightCut:{value:1,
step:1,max:10,min:1}}}},cylinderBBtn:{width:600,height:171,title:c.getLanguage("c007"),type:"CylinderGeometry",btn:"cylinderBBtn",ctrlobj:{help:c.getLanguage("h002"),args:{radius:{value:100,step:5,max:1E3,min:10},height:{value:200,step:5,max:1E3,min:10},radiusCut:{value:20,step:1,max:100,min:5},heightCut:{value:1,step:1,max:10,min:1}}}},cylinderDBtn:{width:600,height:171,title:c.getLanguage("c008"),type:"CylinderGeometry",btn:"cylinderDBtn",ctrlobj:{help:c.getLanguage("h005"),args:{radius:{value:100,
step:5,max:1E3,min:10},height:{value:200,step:5,max:1E3,min:10},radiusCut:{value:3,step:1,max:10,min:3},heightCut:{value:1,step:1,max:10,min:1}}}},torusBtn:{width:600,height:197,title:c.getLanguage("c009"),type:"TorusGeometry",btn:"torusBtn",ctrlobj:{help:c.getLanguage("h002"),args:{radius:{value:100,step:5,max:1E3,min:10},thick:{value:20,step:5,max:1E3,min:10},rot:{value:360,step:1,max:360,min:1},radiusCut:{value:20,step:1,max:100,min:3},heightCut:{value:20,step:1,max:100,min:3}}}},cylinderEBtn:{width:600,
height:197,title:c.getLanguage("c010"),type:"CylinderGeometry",btn:"cylinderEBtn",ctrlobj:{help:c.getLanguage("h005"),args:{topRadius:{value:50,step:5,max:1E3,min:10},bottomRadius:{value:100,step:5,max:1E3,min:10},height:{value:200,step:5,max:1E3,min:10},radiusCut:{value:20,step:1,max:100,min:3},heightCut:{value:1,step:1,max:10,min:1}}}},textBtn:{width:600,height:198,title:c.getLanguage("c011"),type:"TextGeometry",btn:"textBtn",ctrlobj:{args:{size:{value:100,step:5,max:1E3,min:10},deep:{value:100,
step:5,max:1E3,min:10},cut:{value:2,step:1,max:10,min:1}},help:c.getLanguage("h007")}},latheBtn:{width:800,height:623,title:c.getLanguage("c012"),type:"LatheGeometry",btn:"latheBtn",ctrlobj:{args:{cut:{value:50,step:5,max:1E3,min:10},rot:{value:360,step:1,max:360,min:0}},help:c.getLanguage("h008")}},shapesBtn:{width:800,height:623,title:c.getLanguage("c013"),type:"shapesGeometry",btn:"shapesBtn",ctrlobj:{args:{height:{value:10,step:1,max:1E3,min:1}},help:c.getLanguage("h009")}},tubeBtn:{width:1E3,
height:623,title:c.getLanguage("c014"),type:"tubeGeometry",btn:"tubeBtn",ctrlobj:{args:{segments:{value:100,step:10,max:1E3,min:10},radseg:{value:15,step:1,max:50,min:3},radius:{value:5,step:1,max:100,min:1},closed:{value:0,step:1,max:1,min:0}},help:c.getLanguage("h010")}},surfaceBtn:{width:1E3,height:623,title:c.getLanguage("c015"),type:"surfaceGeometry",btn:"surfaceBtn",ctrlobj:{args:{length:{value:200,step:5,max:1E3,min:10},width:{value:200,step:5,max:1E3,min:10},height:{value:200,step:5,max:1E3,
min:10},segments:{value:50,step:1,max:500,min:10}},help:c.getLanguage("h011")}}};return{window:function(){return h},menu:function(){return f},create:function(){return"planeBtn;cubeBtn;sphereBtn;icosahedronBtn;cylinderBtn;cylinderCBtn;cylinderBBtn;cylinderDBtn;torusBtn;cylinderEBtn;textBtn;latheBtn;shapesBtn;tubeBtn;surfaceBtn"},texture:function(){return w}}};TCeditor=TCeditor||{};
TCeditor.language=function(c){var f=c||0,c="images/";-1<(window.location+" ").indexOf("www.tctctc.com")&&(c="/images/");var w={a001:["\u8bf7\u9009\u62e9\u7269\u4f53","Please select a geometry."],a002:["\u526a\u5207\u677f\u4e3a\u7a7a","The shear plate is empty."],a003:["\u8bf7\u5148\u9009\u62e9\u4e00\u4e2a\u5206\u7ec4","Please select a group."],a004:["\u8bf7\u5148\u9009\u62e9\u7269\u4f53\u6216\u7269\u4f53","Please select a geometry or a group."],a005:["\u8be5\u7ec4\u672a\u9501\u5b9a\uff0c\u4e0d\u80fd\u65cb\u8f6c","This group isn't locked,can't rotate it."],
a006:["\u7269\u4f53\u4e0d\u80fd\u62f7\u8d1d\u5206\u7ec4\u5750\u6807","A geometry can't copy the Axis of a group."],a007:["\u9009\u5b9a\u5206\u7ec4\u5df2\u9501\u5b9a\uff0c\u65e0\u6cd5\u4fee\u6539","The selected group is locked,can't edit it."],a008:["\u76ee\u6807\u5206\u7ec4\u5df2\u9501\u5b9a\uff0c\u65e0\u6cd5\u4fee\u6539","The target is a locked group,can't edit it."],a009:["\u8bf7\u5148\u9009\u62e9\u672a\u9501\u5b9a\u7684\u5206\u7ec4","Please select a unlocked group"],a010:["\u8be5\u7ec4\u5df2\u9501\u5b9a\uff0c\u53ea\u80fd\u5220\u9664",
"The selected group is locked,can't break it."],a011:["\u786e\u5b9a\u5220\u9664\u7269\u4f53\u6216\u7ec4\uff1f","Are you sure to delete the selected?"],a012:["\u7f16\u8f91\u5668\u5185\u6709\u7269\u4f53\uff0c\u662f\u5426\u6e05\u9664","There are geometries in the editor,do you want to clear the editor?"],a013:["\u6a21\u578b\u6587\u4ef6\u683c\u5f0f\u9519\u8bef","The form of models is incorrect!"],a014:["\u821e\u53f0\u4e2d\u6ca1\u6709\u4efb\u4f55\u7269\u4f53","There is nothing in the editor!"],a015:["\u8bf7\u9009\u62e9\u8981\u5bfc\u51fa\u7684\u7269\u4f53",
"Please select a geometry or a group which is wanted to be export."],a016:["\u8bf7\u9009\u62e9\u8981\u590d\u5236\u7684\u7269\u4f53","Please select a geometry or a group which is wanted to be copyed."],a017:["\u8bf7\u7ed8\u5236\u9762\u56fe","Please draw a blueprint of the geometry."],a018:["\u8bf7\u8f93\u5165\u6a21\u578b\u6587\u4ef6","Please input the model documents"],a019:["\u662f\u5426\u4fdd\u5b58\u6a21\u578b","Do you want to save the models before exit?"],a020:["\u65e0\u6548\u6a21\u578b\u8f93\u5165",
"The params are incorrect!"],a021:["\u8bf7\u8f93\u5165\u7a7a\u95f4\u70b9","Please add Vector3s with which the editor create tubeGeometry."],l001:["\u7269\u4f53\u6570\u91cf\uff1a","Geo Number:"],l002:["\u9f20\u6807\u4f4d\u7f6e\uff1a","Mouse Pos:"],l003:["\u6750\u8d28\u9009\u62e9","Select Materials"],l004:["\u6253\u5f00\u6a21\u578b","Open models"],l005:["\u5bfc\u5165\u6a21\u578b","Import models"],l006:["\u5bfc\u51fa\u6a21\u578b","Export models"],l007:["\u4fdd\u5b58\u6a21\u578b","Save models"],l008:["\u6750\u8d28\u7c7b\u578b\uff1a",
"MtrlsType:"],l009:["\u9009\u62e9\u8bed\u8a00\uff1a","Language:"],l010:["\u9009\u9879","Option"],l011:["\u663e\u793a\u8fb9\u6846\uff1a","borderVisible:"],l012:["\u8fb9\u6846\u989c\u8272\uff1a","borderColor:"],l013:["\u955c\u9762\u7eb9\u7406\uff1a","MirrorTexture:"],l014:["\u7eaf\u8272\u7eb9\u7406\uff1a","Color:"],l015:["\u56fe\u7247\u7eb9\u7406\uff1a","Texture:"],l016:["\u900f\u660e\u5ea6\uff1a","opacity:"],l017:["\u4f7f\u7528\u9634\u5f71\uff1a","Shadow"],l018:["\u5149\u7ebf\u989c\u8272\uff1a","lightColor:"],
l019:["\u53cd\u5149\u989c\u8272\uff1a","specular:"],l020:["\u4f7f\u7528\u9634\u5f71\uff1a","shininess:"],l021:["\u91d1\u5c5e\u8d28\u5730\uff1a","metal:"],l022:["\u9009\u62e9\u7eb9\u7406","Select Texture"],b001:["\u786e\u5b9a","OK"],b002:["\u8054\u5408\u9884\u89c8","Preview"],b003:["\u6e05\u7a7a\u9009\u62e9","Clear"],b004:["\u53d6\u6d88","Cancel"],b005:["\u521b\u5efa\u7269\u4f53","Create"],b006:["\u91cd\u7f6e\u53c2\u6570","Reset"],b007:["\u6253\u5f00","Open"],b008:["\u6e05\u7a7a","Clear"],b009:["\u5bfc\u5165",
"Import"],b010:["\u9009\u62e9","Select"],b011:["\u76f4\u7ebf","Line"],b012:["\u66f2\u7ebf","Curve"],b013:["\u5220\u9664","Delete"],b014:["\u6bd4\u4f8b\u5c3a","Scale"],b015:["\u9009\u62e9\u6750\u8d28","material"],b016:["\u5706\u89d2\u4fee\u6b63","&nbsp;&nbsp;&nbsp;corner:"],b017:["\u6dfb\u52a0","Add"],b018:["\u9884\u89c8","Preview"],b019:["\u9009\u62e9","Select"],b020:["\u9009\u62e9","Upload"],s001:["\u4fdd\u5b58\u6210\u529f","Save Successfully"],t001:["\u3000&nbsp;&nbsp;\u9ad8\u5ea6\uff1a","&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height:"],
t002:["\u3000&nbsp;&nbsp;\u5bbd\u5ea6\uff1a","&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width:"],t003:["\u3000&nbsp;&nbsp;\u957f\u5ea6\uff1a","&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;length:"],t004:["\u9ad8\u5ea6\u5206\u5272\uff1a","heightSeg:"],t005:["\u5bbd\u5ea6\u5206\u5272\uff1a","&nbsp;widthSeg:"],t006:["\u957f\u5ea6\u5206\u5272\uff1a","lengthSeg:"],t007:["\u3000&nbsp;&nbsp;\u534a\u5f84\uff1a","&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;radius:"],t008:["\u534a\u5f84\u5206\u5272\uff1a","radiusSeg:"],t009:["&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u5ea6\u6570\uff1a",
"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;angle:"],t010:["&nbsp;&nbsp;&nbsp;X\u7f29\u653e\uff1a","&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleX:"],t011:["&nbsp;&nbsp;&nbsp;Y\u7f29\u653e\uff1a","&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleY:"],t012:["&nbsp;&nbsp;&nbsp;Z\u7f29\u653e\uff1a","&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleZ:"],t013:["\u3000&nbsp;&nbsp;\u695e\u6570\uff1a","radiusSeg:"],t014:["\u3000&nbsp;&nbsp;\u7c97\u7ec6\uff1a","&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;thick:"],t015:["\u663e\u793a\u957f\u5ea6:","&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;angle:"],
t016:["\u73af\u5411\u5206\u5272\uff1a","&nbsp;&nbsp;thickSeg:"],t017:["\u9876\u9762\u534a\u5f84","topRadius"],t018:["\u5e95\u9762\u534a\u5f84","btmRadius"],t019:["\u3000&nbsp;&nbsp;\u5b57\u53f7\uff1a","&nbsp;&nbsp;fontSize:"],t020:["\u3000&nbsp;&nbsp;\u6df1\u5ea6\uff1a","&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deep:"],t021:["\u3000&nbsp;&nbsp;\u5206\u5272\uff1a","&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Seg:"],t022:["\u6587\u672c\uff1a","text:"],t023:["\u3000\u4f4d\u7f6eX\uff1a","positionX:"],
t024:["\u3000\u4f4d\u7f6eY\uff1a","positionY:"],t025:["\u3000\u4f4d\u7f6eZ\uff1a","positionZ:"],t026:["\u3000\u65cb\u8f6cX\uff1a","rotationX:"],t027:["\u3000\u65cb\u8f6cY\uff1a","rotationY:"],t028:["\u3000\u65cb\u8f6cZ\uff1a","rotationZ:"],t029:["\u3000&nbsp;&nbsp;\u5c3a\u5bf8\uff1a","&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size:"],t030:["\u3000\u590d\u6742\u5ea6\uff1a","segments:"],t031:["\u8f74\u5411\u5207\u5272:","segments:"],t032:["\u534a\u5f84\u5207\u5272\uff1a","&nbsp;&nbsp;&nbsp;&nbsp;radseg:"],
t034:["\u3000&nbsp;&nbsp;\u95ed\u5408\uff1a","&nbsp;&nbsp;&nbsp;&nbsp;closed:"],t035:["\u7a7a\u95f4\u5750\u6807\uff1a","&nbsp;&nbsp;vector3:"],t036:["\u63a7\u5236\u53c2\u6570\uff1a","&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;points:"],t037:["X\u8f74\u4ea4\u70b9\uff1a","intersect:"],t038:["\u3000\u89d2\u5ea6A\uff1a","&nbsp;&nbsp;&nbsp;&nbsp;angleA:"],t039:["\u3000\u89d2\u5ea6B\uff1a","&nbsp;&nbsp;&nbsp;&nbsp;angleB:"],c001:["\u521b\u5efa\u5e73\u9762","PlaneGeometry"],c002:["\u521b\u5efa\u7acb\u65b9\u4f53","CubeGeometry"],
c003:["\u521b\u5efa\u7403\u4f53","SphereGeometry"],c004:["\u521b\u5efa\u51e0\u4f55\u7403\u4f53","IcosahedronGeometry"],c005:["\u521b\u5efa\u5706\u9525","ConeGeometry"],c006:["\u521b\u5efa\u68f1\u9525","PyramidGeometry"],c007:["\u521b\u5efa\u5706\u67f1","CylinderGeometry"],c008:["\u521b\u5efa\u695e\u4f4f","FreezeGeometry"],c009:["\u521b\u5efa\u5706\u73af","TorusGeometry"],c010:["\u521b\u5efa\u5706\u53f0","RoundplatformGeometry"],c011:["\u521b\u5efa3D\u6587\u672c","TextGeometry"],c012:["\u521b\u5efa\u8f66\u5e8a\u4f53",
"LatheGeometry"],c013:["\u521b\u5efa\u5f62\u72b6","ShapesGeometry"],c014:["\u7a7a\u95f4\u7ba1\u6750","TubeGeometry"],c015:["\u7a7a\u95f4\u66f2\u9762","SurfaceGeometry"],c016:["\u8d1d\u585e\u5c14\u66f2\u9762","Bessel Surface"],c017:["\u629b\u7269\u66f2\u9762","Parabolic Surface"],c018:["\u5207\u89d2\u7403\u9762"," Supper Spherical Surface"],c019:["\u6b63\u6001\u5206\u5e03\u66f2\u9762","Gaussian distribution Surface"],c020:["\u4e09\u6b21\u8d1d\u585e\u5c14\u66f2\u7ebf\u5e73\u79fb\u9762","Cube Bessel Curve Surface"],
c021:["\u4e8c\u6b21\u8d1d\u585e\u5c14\u66f2\u7ebf\u5e73\u79fb\u9762","Square Bessel Curve Surface"],c022:["\u6b63\u6001\u5206\u5e03\u66f2\u7ebf\u5e73\u79fb\u9762","Gaussian Curve Surface"],c023:["\u629b\u7269\u7ebf\u5e73\u79fb\u9762","Parabolic Curve Surface"],c024:["\u4f59\u5f26\u66f2\u7ebf\u5e73\u79fb\u9762","Cosine Curve Surface"],c025:["\u5706\u5e73\u9762","Circle Surface"],h000:["\u5feb\u6377\u952e\uff1a\n\u3000`\uff1a\u91cd\u7f6e\u6444\u50cf\u673a\n\u30001\uff1a\u6444\u50cf\u673a\u79fb\u52a8\u5230\u524d\u65b9\n\u30002\uff1a\u6444\u50cf\u673a\u79fb\u52a8\u5230\u53f3\u65b9\n\u30003\uff1a\u6444\u50cf\u673a\u79fb\u52a8\u5230\u540e\u65b9\n\u30004\uff1a\u6444\u50cf\u673a\u79fb\u52a8\u5230\u5de6\u65b9\n\u30005\uff1a\u6444\u50cf\u673a\u79fb\u52a8\u5230\u4e0a\u65b9\n\u30006\uff1a\u6444\u50cf\u673a\u79fb\u52a8\u5230\u4e0b\u65b9\n\u3000W\uff1a\u6444\u50cf\u673a\u524d\u79fb\n\u3000S\uff1a\u6444\u50cf\u673a\u540e\u79fb\n\u3000A\uff1a\u6444\u50cf\u673a\u5de6\u79fb\n\u3000D\uff1a\u6444\u50cf\u673a\u53f3\u79fb\n\u3000E\uff1a\u6444\u50cf\u673a\u987a\u65f6\u9488\u79fb\u52a8\n\u3000Q\uff1a\u6444\u50cf\u673a\u9006\u65f6\u9488\u79fb\u52a8\n\u3000R\uff1a\u65cb\u8f6c\u7269\u4f53\n\u3000M\uff1a\u79fb\u52a8\u7269\u4f53\n\u3000T\uff1a\u7f29\u653e\u7269\u4f53\n\u3000C\uff1a\u62f7\u8d1d\u7269\u4f53\u5750\u6807\n\u3000G\uff1a\u7269\u4f53\u7f16\u7ec4\n\u3000L\uff1a\u9501\u5b9a\u5206\u7ec4\n\u3000B\uff1a\u6253\u6563\u5206\u7ec4\n\u3000ESC\uff1a\u6e05\u7a7a\u5f53\u524d\u4fdd\u6301\u6027\u64cd\u4f5c\n\u3000Del\uff1a\u5220\u9664\u7269\u4f53\u6216\u5206\u7ec4\n\u3000Backspace\uff1a\u5220\u9664\u7269\u4f53\u6216\u5206\u7ec4\n\u3000Ctrl+S\uff1a\u4fdd\u5b58\u6a21\u578b\n\u3000Ctrl+C\uff1a\u590d\u5236\u7269\u4f53\n\u3000Ctrl+V\uff1a\u7c98\u8d34\u7269\u4f53",
"ShortSeg key  :  \n  `  :  Reset the camera\n  1  :  Make the camera look at the front side\n  2  :  Make the camera look at the right side\n  3  :  Make the camera look at the back side\n  4  :  Make the camera look at the left side\n  5  :  Make the camera look at the top side\n  6  :  Make the camera look at the bottom side\n  w  :  Let the camera go ahead\n  s  :  Let the camera go back\n  a  :  Let the camera go left\n  d  :  Let the camera go right\n  e  :  Let the camera move clockwise\n  q  :  Let the camera move counterclockwise\n  r  :  Rotate Geometries\n  m  :  Move Geometries\n  t  :  Scale Geometries\n  c  :  Copy the axis of selected geometry\n  g  :  Join the Geometries to a group\n  l  :  Lock the selected group\n  b  :  Break the selected group\n  esc  :  Clear Command\n  del  :  Delete a geometry or group\n  backspace  :  Delete a geometry or group\n  Ctrl+S  :  Save\n  Ctrl+C  :  Copy\n  Ctrl+V  :  Paste"],
h001:["\u8bf4\u660e\uff1a\u3002\u3002\u3002","Attention : ..."],h002:['\u8bf4\u660e\uff1a"\u5206\u5272\u6570"\u8d8a\u591a\uff0c\u7ed8\u5236\u7684\u6a21\u578b\u8d8a\u7ec6\u81f4\uff0c\u4f46\u4f1a\u6d88\u8017\u66f4\u591a\u7684\u8d44\u6e90\uff1b"\u4f4d\u7f6e"\u76f8\u5bf9\u4e8e\u5168\u5c40\uff0c\u672c\u5f15\u64ce\u4f7f\u7528\u53f3\u624b\u5750\u6807\u7cfb\uff1b"\u65cb\u8f6c"\u57fa\u51c6\u5728\u81ea\u8eab\u51e0\u4f55\u4e2d\u5fc3\uff0c\u800c\u4e0d\u662f\u5168\u5c40\uff0c\u65cb\u8f6c\u89d2\u5ea6\u4ee5\u5ea6\u4e3a\u5355\u4f4d\uff0c0\uff5e360\u5ea6\u4e4b\u95f4\u3002\u5706\u89d2\u4fee\u6b63\u4e0d\u5b9c\u8fc7\u9ad8\uff0c\u503c\u8d8a\u5927\u6d88\u8017\u8d44\u6e90\u8d8a\u591a\u3002',
"Attention : The big parameters 'Seg' are set,the more system resource will be need.Parameters 'Position' are relative to the overall.The editor uses Right Hand Coordinate System.Parameters 'rotation' are relative to the geometric center,and in order to angle for the unit(0-360).Please don't set the parameter 'Corner' too big."],h003:['\u8bf4\u660e\uff1a"\u5ea6\u6570"\u8d8a\u5927\uff0c\u51e0\u4f55\u7403\u4f53\u8d8a\u63a5\u8fd1\u4e8e\u6807\u51c6\u7403\u4f53\uff0c\u4f1a\u6d88\u8017\u66f4\u591a\u8d44\u6e90\u3002\u7f29\u653e\u6bd4\u4f8b\u63a7\u5236\u51e0\u4f55\u7403\u4f53\u7684\u5927\u5c0f\uff0c\u4e09\u5411\u53ef\u4ee5\u8bbe\u7f6e\u4e0d\u540c\u6bd4\u4f8b\u3002',
"Attention : The big parameter 'angle' is set,the more icosahedron will be like a sphere,the more system resource will be need.The size of icosahedron is relative to parameters 'scale'."],h004:['\u8bf4\u660e\uff1a\u751f\u6210\u6b63\u68f1\u9525\uff0c\u5373\u5404\u68f1\u89d2\u76f8\u7b49\u3002\u9700\u8981\u5404\u68f1\u89d2\u4e0d\u76f8\u7b49\uff0c\u8bf7\u4f7f\u7528\u53d8\u5f62\u5de5\u5177\uff1b"\u695e\u6570"\u8d8a\u591a\uff0c\u8d8a\u63a5\u8fd1\u4e8e\u5706\u9525\u3002',"Attention : The corners of the Pyramid's bottom are same,if you need different corners,please use the ScaleTool.The big radiusSeg is set,the more pyramid is like a cone."],
h005:['\u8bf4\u660e\uff1a\u751f\u6210\u6b63\u68f1\u67f1\uff0c\u5373\u5404\u68f1\u89d2\u76f8\u7b49\u3002\u9700\u8981\u5404\u68f1\u89d2\u4e0d\u76f8\u7b49\uff0c\u8bf7\u4f7f\u7528\u53d8\u5f62\u5de5\u5177\uff1b"\u695e\u6570"\u8d8a\u591a\uff0c\u8d8a\u63a5\u8fd1\u4e8e\u5706\u67f1\u3002',"Attention : The corners of the Freeze's bottom are same,if you need different corners,please use the ScaleTool.The big radiusSeg is set,the more freeze is like a cylinder."],h006:["\u8bf4\u660e\uff1a\u751f\u6210\u5706\u53f0\uff0c\u9876\u9762\u534a\u5f84\u4e0e\u5730\u9762\u534a\u5f84\u76f8\u7b49\u65f6\uff0c\u751f\u6210\u5706\u67f1\uff1b\u9876\u9762\u534a\u5f84\u6216\u5730\u9762\u534a\u5f84\u4e3a0\u65f6\uff0c\u751f\u6210\u5706\u9525\uff1b\u534a\u5f84\u5206\u5272\u8f83\u5c0f\u65f6\uff0c\u751f\u6210\u68f1\u53f0\u3001\u68f1\u67f1\u6216\u68f1\u9525\u3002",
"Attention : If topRadius and btmRadius are equal,it will add a cylinder to the editor.If topRadius(btmRadius) is 0,it will add a cone to the editor.The small radiusSeg is set,the more Roundplatform is like a ryramid(freeze)."],h007:['\u8bf4\u660e\uff1a\u7a7a\u95f4\u6587\u5b57\uff0c\u53ea\u652f\u6301\u5927\u5c0f\u5199\u82f1\u6587\u5b57\u7b26\uff0c\u6570\u5b57\uff0c\u82f1\u6587\u683c\u5f0f\u7b26\u53f7\uff0c\u4e0d\u652f\u6301\u7684\u5b57\u7b26\u5c06\u663e\u793a\u4e3a\u95ee\u53f7\u3002"\u5b57\u53f7"\u8bbe\u7f6e\u6587\u5b57\u5927\u5c0f\uff0c"\u6df1\u5ea6"\u8bbe\u7f6e\u6587\u672c\u7684\u7eb5\u5411\u957f\u5ea6\uff0c"\u5206\u5272"\u8d8a\u5927\u7ed8\u5236\u7684\u5b57\u7b26\u8d8a\u7ec6\u817b\uff0c\u4f46\u4f1a\u6d88\u8017\u66f4\u591a\u8d44\u6e90',
"Attention : Only the numbers and english characters can be supported by TextGeometry."],h008:['\u8bf4\u660e\uff1a\u8f66\u5e8a\u4f53\u53ef\u4ee5\u81ea\u884c\u8bbe\u8ba1\u56fe\u7eb8\uff0c\u7ed8\u5236\u7684\u662f\u7269\u4f53\u5256\u9762\u56fe\uff0c\u751f\u6210\u7684\u662f\u5706\u4f53\u3002"\u6bd4\u4f8b\u5c3a"\u63a7\u5236\u539f\u59cb\u7269\u4f53\u7684\u5927\u5c0f\u3002"\u73af\u5411\u5207\u5272"\u8bbe\u7f6e\u8d8a\u5927\uff0c\u751f\u6210\u7684\u6a21\u578b\u8d8a\u7ec6\u81f4\uff0c\u4f46\u4f1a\u6d88\u8017\u66f4\u591a\u8d44\u6e90\u3002"\u5207\u5272\u89d2\u5ea6"\u53ef\u4ee5\u8bbe\u7f6e\u6a21\u578b\u6e32\u67d3\u7684\u89d2\u5ea6\uff0c\u5c0f\u4e8e360\u5ea6\u65f6\uff0c\u4f1a\u81ea\u52a8\u5c01\u53e3\u3002\u4f60\u51e0\u4e4e\u53ef\u4ee5\u7528\u8f66\u5e8a\u8bbe\u8ba1\u51fa\u4efb\u4f55\u8f74\u5bf9\u79f0\u7269\u4f53\uff0c\u6bd4\u5982\u6c34\u676f\u3001\u7eba\u9524\u3001\u706f\u6ce1\u3001\u82b1\u74f6\u7b49\u7b49',
"Attention : You can design a cross-sectional view of the latheGeometry.Use 'Scale' to set the size.You can almost create any axial symmetry geometry using the latheGeometry,for example a cup,a spindle,a light bulb,a flower vase,etc."],h009:["\u8bf4\u660e\uff1a\u521b\u5efa\u5f62\u72b6\uff0c\u53ef\u4ee5\u81ea\u884c\u8bbe\u8ba1\u56fe\u7eb8\uff0c\u7ed8\u5236\u7684\u662f\u7269\u4f53\u5e73\u9762\u56fe\u3002","Attention : You can design a blueprint of the shapesGeometry.Use 'Scale' to set the size."],h010:["\u8bf4\u660e\uff1a\u521b\u5efa\u7a7a\u95f4\u7ba1\u6750\u3002\u201c\u95ed\u5408\u201d\u63a7\u5236\u7ba1\u6750\u662f\u5426\u95ed\u5408\uff1b\u201c\u534a\u5f84\u201d\u63a7\u5236\u7ba1\u6750\u7684\u7c97\u7ec6\uff1b\u201c\u8f74\u5411\u5207\u5272\u201d\u63a7\u5236\u7ba1\u6750\u5728\u524d\u8fdb\u65b9\u5411\u7684\u5206\u5272\u6570\uff0c\u5206\u5272\u6570\u8d8a\u9ad8\u7ba1\u6750\u8d8a\u5e73\u6ed1\uff1b\u201c\u534a\u5f84\u5207\u5272\u201d\u63a7\u5236\u7ba1\u6750\u73af\u5411\u7684\u5206\u5272\u6570\uff0c\u5206\u5272\u6570\u8d8a\u9ad8\uff0c\u7ba1\u6750\u8d8a\u5706\uff1b\u4fee\u6539\u201c\u7a7a\u95f4\u5750\u6807\u201d\uff0c\u70b9\u51fb\u201c\u6dfb\u52a0\u201d\uff0c\u7a7a\u95f4\u70b9\u4f1a\u6dfb\u52a0\u5230\u53f3\u4fa7\u5217\u8868\u4e2d\u3002\u5217\u8868\u5185\u7684\u7a7a\u95f4\u70b9\u662f\u7ba1\u6750\u4e2d\u8f74\u7ebf\u8d70\u5411\uff0c\u7531\u4e0a\u8d70\u5230\u4e0b\u3002\u60a8\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7f16\u8f91\u53f3\u4fa7\u5217\u8868\u3002\u70b9\u51fb\u201c\u9884\u89c8\u201d\uff0c\u5de6\u4fa7\u9884\u89c8\u7a97\u53e3\u4f1a\u51fa\u73b0\u60a8\u8bbe\u8ba1\u7684\u7ba1\u6750\uff0c\u9664\u6750\u8d28\u3001\u4f4d\u7f6e\u3001\u65cb\u8f6c\u5916\uff0c\u5176\u4ed6\u53c2\u6570\u5747\u4f7f\u7528\u5df2\u8bbe\u503c\u3002",
"&nbsp;&nbsp;Attention : ..."],h011:["\u8bf4\u660e\uff1a\u3002\u3002\u3002","&nbsp;&nbsp;Attention : ..."]},h={fileBtn:["\u6587\u4ef6","File"],saveBtn:["\u4fdd\u5b58","Save"],addGeoBtn:["\u521b\u5efa\u7269\u4f53","Create"],selectObjBtn:["\u9009\u62e9\u7269\u4f53","Select"],objCopyBtn:["\u590d\u5236\u7269\u4f53","Copy"],objPasteBtn:["\u7c98\u8d34\u7269\u4f53","Paste"],moveObjBtn:["\u79fb\u52a8\u7269\u4f53","Move"],rotateObjBtn:["\u65cb\u8f6c\u7269\u4f53","Rotate"],scaleObjBtn:["\u7f29\u653e\u7269\u4f53",
"Scale"],copyAxisBtn:["\u590d\u5236\u5750\u6807","Axis copy"],doGroupBtn:["\u7269\u4f53\u7f16\u7ec4","Group"],unGroupBtn:["\u7f16\u7ec4\u6253\u6563","unGroup"],lockGroupBtn:["\u7f16\u7ec4\u9501\u5b9a","Lock"],delGeoBtn:["\u5220\u9664\u7269\u4f53","Delete"],exitBtn:["\u9000\u51fa\u7f16\u8f91","Exit"],camera_home:["\u590d\u4f4d\u6444\u50cf\u673a","Camera reset"],camera_cir:["\u6444\u50cf\u673a\u5e73\u8f6c","Camera go around"],camera_free:["\u6444\u50cf\u673a\u81ea\u7531\u9009\u8f6c","Camera go freely"],
camera_zoom:["\u63a8\u62c9\u6444\u50cf\u673a","Camera zoom"],camera_move:["\u5e73\u79fb\u6444\u50cf\u673a","Camera move"],"fileBtn:newBtn":["\u65b0\u5efa\u6a21\u578b","New"],"fileBtn:openBtn":["\u6253\u5f00\u6a21\u578b","Open"],"fileBtn:importBtn":["\u5bfc\u5165\u6a21\u578b","Import"],"fileBtn:exportBtn":["\u5bfc\u51fa\u6a21\u578b","Export"],"fileBtn:printsreamBtn":["\u5c4f\u5e55\u622a\u56fe","Print screen"],"addGeoBtn:planeBtn":["\u521b\u5efa\u5e73\u9762","PlaneGeometry"],"addGeoBtn:cubeBtn":["\u521b\u5efa\u7acb\u65b9\u4f53",
"CubeGeometry"],"addGeoBtn:sphereBtn":["\u521b\u5efa\u7403\u4f53","SphereGeometry"],"addGeoBtn:icosahedronBtn":["\u521b\u5efa\u51e0\u4f55\u7403\u4f53","IcosahedronGeometry"],"addGeoBtn:cylinderBtn":["\u521b\u5efa\u5706\u9525","ConeGeometry"],"addGeoBtn:cylinderCBtn":["\u521b\u5efa\u68f1\u9525","PyramidGeometry"],"addGeoBtn:cylinderBBtn":["\u521b\u5efa\u5706\u67f1","CylinderGeometry"],"addGeoBtn:cylinderDBtn":["\u521b\u5efa\u68f1\u67f1","FreezeGeometry"],"addGeoBtn:torusBtn":["\u521b\u5efa\u5706\u73af",
"TorusGeometry"],"addGeoBtn:cylinderEBtn":["\u521b\u5efa\u5706\u53f0","RoundplatformGeometry"],"addGeoBtn:textBtn":["\u521b\u5efa3D\u6587\u672c","TextGeometry"],"addGeoBtn:latheBtn":["\u521b\u5efa\u8f66\u5e8a\u4f53","LatheGeometry"],"addGeoBtn:shapesBtn":["\u521b\u5efa\u5f62\u72b6","shapesGeometry"],"addGeoBtn:tubeBtn":["\u7a7a\u95f4\u7ba1\u6750","tubeGeometry"],"addGeoBtn:surfaceBtn":["\u7a7a\u95f4\u66f2\u9762","serfaceGeometry"],"moveObjBtn:moveAllBtn":["\u81ea\u7531\u79fb\u52a8","Move freely"],
"moveObjBtn:moveXBtn":["\u6cbfX\u8f74\u79fb\u52a8","Move along the x axis"],"moveObjBtn:moveYBtn":["\u6cbfY\u8f74\u79fb\u52a8","Move along the y axis"],"moveObjBtn:moveZBtn":["\u6cbfZ\u8f74\u79fb\u52a8","Move along the z axis"],"rotateObjBtn:rotationAllBtn":["\u81ea\u7531\u65cb\u8f6c","Rotate freely"],"rotateObjBtn:rotationYBtn":["\u7ed5\u81ea\u8eabY\u8f74\u65cb\u8f6c","Rotate around it's x axis"],"rotateObjBtn:rotationXBtn":["\u7ed5\u81ea\u8eabX\u8f74\u65cb\u8f6c","Rotate around it's y axis"],"rotateObjBtn:rotationZBtn":["\u7ed5\u81ea\u8eabZ\u8f74\u65cb\u8f6c",
"Rotate around it's z axis"],"scaleObjBtn:scaleTypeBtn_3":["\u4e09\u5411\u7b49\u6bd4\u7f29\u653e","Scale in 3 directions"],"scaleObjBtn:scaleTypeBtn_2":["\u4e8c\u5411\u7b49\u6bd4\u7f29\u653e","Scale in 2 directions"],"scaleObjBtn:scaleTypeBtn_1":["\u5355\u5411\u7f29\u653e","Scale in 1 direction"],"copyAxisBtn:copyAxisXBtn":["X\u5bf9\u9f50","Copy x axis"],"copyAxisBtn:copyAxisYBtn":["Y\u5bf9\u9f50","Copy y axis"],"copyAxisBtn:copyAxisZBtn":["Z\u5bf9\u9f50","Copy z axis"],camera_ctrl_font_left_top:["\u89c2\u5bdf\u70b9\uff1a\u5de6\u524d\u4e0a",
"View LeftFrontTop"],camera_ctrl_left_top_back:["\u89c2\u5bdf\u70b9\uff1a\u5de6\u540e\u4e0a","View LeftBackTop"],camera_ctrl_back_top_right:["\u89c2\u5bdf\u70b9\uff1a\u53f3\u540e\u4e0a","View RightBackTop"],camera_ctrl_font_right_top:["\u89c2\u5bdf\u70b9\uff1a\u53f3\u524d\u4e0a","View RightFrontTop"],camera_ctrl_left_font_bottom:["\u89c2\u5bdf\u70b9\uff1a\u5de6\u524d\u4e0b","View LeftFrontBottom"],camera_ctrl_left_back_bottom:["\u89c2\u5bdf\u70b9\uff1a\u5de6\u540e\u4e0b","View LeftBackBottom"],camera_ctrl_right_back_bottom:["\u89c2\u5bdf\u70b9\uff1a\u53f3\u540e\u4e0b",
"View RightBackBottom"],camera_ctrl_font_right_bottom:["\u89c2\u5bdf\u70b9\uff1a\u53f3\u524d\u4e0b","View RightFrontBottom"],camera_ctrl_left_top:["\u89c2\u5bdf\u70b9\uff1a\u5de6\u4e0a","View LeftTop"],camera_ctrl_left_bottom:["\u89c2\u5bdf\u70b9\uff1a\u5de6\u4e0b","View LeftBottom"],camera_ctrl_top_right:["\u89c2\u5bdf\u70b9\uff1a\u53f3\u4e0a","View RightTop"],camera_ctrl_bottom_right:["\u89c2\u5bdf\u70b9\uff1a\u53f3\u4e0b","View RightBottom"],camera_ctrl_top_font:["\u89c2\u5bdf\u70b9\uff1a\u524d\u4e0a",
"View FrontTop"],camera_ctrl_bottom_font:["\u89c2\u5bdf\u70b9\uff1a\u524d\u4e0b","View FrontBottom"],camera_ctrl_top_back:["\u89c2\u5bdf\u70b9\uff1a\u540e\u4e0a","View BottomTop"],camera_ctrl_back_bottom:["\u89c2\u5bdf\u70b9\uff1a\u540e\u4e0b","View BackBottom"],camera_ctrl_font_left:["\u89c2\u5bdf\u70b9\uff1a\u5de6\u524d","View LeftFront"],camera_ctrl_font_right:["\u89c2\u5bdf\u70b9\uff1a\u53f3\u524d","View RightFront"],camera_ctrl_back_right:["\u89c2\u5bdf\u70b9\uff1a\u53f3\u540e","View RightBottom"],
camera_ctrl_back_left:["\u89c2\u5bdf\u70b9\uff1a\u5de6\u540e","View LeftBack"],camera_ctrl_left:["\u89c2\u5bdf\u70b9\uff1a\u5de6","View Left"],camera_ctrl_right:["\u89c2\u5bdf\u70b9\uff1a\u53f3","View Right"],camera_ctrl_font:["\u89c2\u5bdf\u70b9\uff1a\u524d","View Front"],camera_ctrl_back:["\u89c2\u5bdf\u70b9\uff1a\u540e","View Back"],camera_ctrl_top:["\u89c2\u5bdf\u70b9\uff1a\u4e0a","View Top"],camera_ctrl_bottom:["\u89c2\u5bdf\u70b9\uff1a\u4e0b","View Bottom"],camera_ctrl_cir:["\u6444\u50cf\u673a\u5e73\u8f6c",
"Camera go around"]},d={addGeoBtn_active:c+"btn/addGeoBtn_active.png",addGeoBtn_normal:c+"btn/addGeoBtn_normal.png",addGeoBtn_over:c+"btn/addGeoBtn_over.png",cameraLookAt_active:c+"btn/cameraLookAt_active.png",cameraLookAt_normal:c+"btn/cameraLookAt_normal.png",cameraLookAt_over:c+"btn/cameraLookAt_over.png",cameraRadiusNum_active:c+"btn/cameraRadiusNum_active.png",cameraRadiusNum_normal:c+"btn/cameraRadiusNum_normal.png",cameraRadiusNum_over:c+"btn/cameraRadiusNum_over.png",copyAxisBtn_active:c+
"btn/copyAxisBtn_active.png",copyAxisBtn_normal:c+"btn/copyAxisBtn_normal.png",copyAxisBtn_over:c+"btn/copyAxisBtn_over.png",copyAxisXBtn_normal:c+"btn/copyAxisXBtn_normal.png",copyAxisXBtn_over:c+"btn/copyAxisXBtn_over.png",copyAxisYBtn_normal:c+"btn/copyAxisYBtn_normal.png",copyAxisYBtn_over:c+"btn/copyAxisYBtn_over.png",copyAxisZBtn_normal:c+"btn/copyAxisZBtn_normal.png",copyAxisZBtn_over:c+"btn/copyAxisZBtn_over.png",cubeBtn_normal:c+"btn/cubeBtn_normal.png",cubeBtn_over:c+"btn/cubeBtn_over.png",
cylinderBBtn_normal:c+"btn/cylinderBBtn_normal.png",cylinderBBtn_over:c+"btn/cylinderBBtn_over.png",cylinderBtn_normal:c+"btn/cylinderBtn_normal.png",cylinderBtn_over:c+"btn/cylinderBtn_over.png",cylinderCBtn_normal:c+"btn/cylinderCBtn_normal.png",cylinderCBtn_over:c+"btn/cylinderCBtn_over.png",cylinderDBtn_normal:c+"btn/cylinderDBtn_normal.png",cylinderDBtn_over:c+"btn/cylinderDBtn_over.png",cylinderEBtn_normal:c+"btn/cylinderEBtn_normal.png",cylinderEBtn_over:c+"btn/cylinderEBtn_over.png",shapesBtn_normal:c+
"btn/shapesBtn_normal.png",shapesBtn_over:c+"btn/shapesBtn_over.png",surfaceBtn_normal:c+"btn/surfaceBtn_normal.png",surfaceBtn_over:c+"btn/surfaceBtn_over.png",delGeoBtn_active:c+"btn/delGeoBtn_active.png",delGeoBtn_normal:c+"btn/delGeoBtn_normal.png",delGeoBtn_over:c+"btn/delGeoBtn_over.png",doGroupBtn_active:c+"btn/doGroupBtn_active.png",doGroupBtn_normal:c+"btn/doGroupBtn_normal.png",doGroupBtn_over:c+"btn/doGroupBtn_over.png",setBtn_active:c+"btn/setBtn_active.png",setBtn_normal:c+"btn/setBtn_normal.png",
setBtn_over:c+"btn/setBtn_over.png",exitBtn_active:c+"btn/exitBtn_active"+f+".png",exitBtn_normal:c+"btn/exitBtn_normal"+f+".png",exitBtn_over:c+"btn/exitBtn_over"+f+".png",exportBtn_normal:c+"btn/exportBtn_normal.png",exportBtn_over:c+"btn/exportBtn_over.png",fileBtn_active:c+"btn/fileBtn_active.png",fileBtn_normal:c+"btn/fileBtn_normal.png",fileBtn_over:c+"btn/fileBtn_over.png",home:c+"btn/home.png",home_over:c+"btn/home_over.png",icosahedronBtn_normal:c+"btn/icosahedronBtn_normal.png",icosahedronBtn_over:c+
"btn/icosahedronBtn_over.png",importBtn_normal:c+"btn/importBtn_normal.png",importBtn_over:c+"btn/importBtn_over.png",lockGroupBtn_active:c+"btn/lockGroupBtn_active.png",lockGroupBtn_normal:c+"btn/lockGroupBtn_normal.png",lockGroupBtn_over:c+"btn/lockGroupBtn_over.png",moveAllBtn_normal:c+"btn/moveAllBtn_normal.png",moveAllBtn_over:c+"btn/moveAllBtn_over.png",moveObjBtn_active:c+"btn/moveObjBtn_active.png",moveObjBtn_normal:c+"btn/moveObjBtn_normal.png",moveObjBtn_over:c+"btn/moveObjBtn_over.png",
moveXBtn_normal:c+"btn/moveXBtn_normal.png",moveXBtn_over:c+"btn/moveXBtn_over.png",moveYBtn_normal:c+"btn/moveYBtn_normal.png",moveYBtn_over:c+"btn/moveYBtn_over.png",moveZBtn_normal:c+"btn/moveZBtn_normal.png",moveZBtn_over:c+"btn/moveZBtn_over.png",newBtn_normal:c+"btn/newBtn_normal.png",newBtn_over:c+"btn/newBtn_over.png",objCopyBtn_active:c+"btn/objCopyBtn_active.png",objCopyBtn_normal:c+"btn/objCopyBtn_normal.png",objCopyBtn_over:c+"btn/objCopyBtn_over.png",objPasteBtn_active:c+"btn/objPasteBtn_active.png",
objPasteBtn_normal:c+"btn/objPasteBtn_normal.png",objPasteBtn_over:c+"btn/objPasteBtn_over.png",openBtn_normal:c+"btn/openBtn_normal.png",openBtn_over:c+"btn/openBtn_over.png",planeBtn_normal:c+"btn/planeBtn_normal.png",planeBtn_over:c+"btn/planeBtn_over.png",printsreamBtn_normal:c+"btn/printsreamBtn_normal.png",printsreamBtn_over:c+"btn/printsreamBtn_over.png",rotateObjBtn_active:c+"btn/rotateObjBtn_active.png",rotateObjBtn_normal:c+"btn/rotateObjBtn_normal.png",rotateObjBtn_over:c+"btn/rotateObjBtn_over.png",
rotationAllBtn_normal:c+"btn/rotationAllBtn_normal.png",rotationAllBtn_over:c+"btn/rotationAllBtn_over.png",rotationXBtn_normal:c+"btn/rotationXBtn_normal.png",rotationXBtn_over:c+"btn/rotationXBtn_over.png",rotationYBtn_normal:c+"btn/rotationYBtn_normal.png",rotationYBtn_over:c+"btn/rotationYBtn_over.png",rotationZBtn_normal:c+"btn/rotationZBtn_normal.png",rotationZBtn_over:c+"btn/rotationZBtn_over.png",saveBtn_active:c+"btn/saveBtn_active.png",saveBtn_normal:c+"btn/saveBtn_normal.png",saveBtn_over:c+
"btn/saveBtn_over.png",scaleObjBtn_active:c+"btn/scaleObjBtn_active.png",scaleObjBtn_normal:c+"btn/scaleObjBtn_normal.png",scaleObjBtn_over:c+"btn/scaleObjBtn_over.png",scaleTypeBtn_1_normal:c+"btn/scaleTypeBtn_1_normal.png",scaleTypeBtn_1_over:c+"btn/scaleTypeBtn_1_over.png",scaleTypeBtn_2_normal:c+"btn/scaleTypeBtn_2_normal.png",scaleTypeBtn_2_over:c+"btn/scaleTypeBtn_2_over.png",scaleTypeBtn_3_normal:c+"btn/scaleTypeBtn_3_normal.png",scaleTypeBtn_3_over:c+"btn/scaleTypeBtn_3_over.png",selectObjBtn_active:c+
"btn/selectObjBtn_active.png",selectObjBtn_normal:c+"btn/selectObjBtn_normal.png",selectObjBtn_over:c+"btn/selectObjBtn_over.png",latheBtn_normal:c+"btn/latheBtn_normal.png",latheBtn_over:c+"btn/latheBtn_over.png",sphereBtn_normal:c+"btn/sphereBtn_normal.png",sphereBtn_over:c+"btn/sphereBtn_over.png",textBtn_normal:c+"btn/textBtn_normal.png",textBtn_over:c+"btn/textBtn_over.png",torusBtn_normal:c+"btn/torusBtn_normal.png",torusBtn_over:c+"btn/torusBtn_over.png",unGroupBtn_active:c+"btn/unGroupBtn_active.png",
unGroupBtn_normal:c+"btn/unGroupBtn_normal.png",unGroupBtn_over:c+"btn/unGroupBtn_over.png",tubeBtn_normal:c+"btn/tubeBtn_normal.png",tubeBtn_over:c+"btn/tubeBtn_over.png",cir:c+"cameractrl/cir"+f+".png",left:c+"cameractrl/left"+f+".png",right:c+"cameractrl/right"+f+".png",font:c+"cameractrl/font"+f+".png",back:c+"cameractrl/back"+f+".png",top:c+"cameractrl/top"+f+".png",bottom:c+"cameractrl/bottom"+f+".png",background:c+"cameractrl/background"+f+".png",close_normal:c+"box/close_normal.png",close_over:c+
"box/close_over.png",overlay:c+"box/overlay.png",boxtop:c+"box/top.png"};return{getImgUrl:function(c){return d[c]?d[c]:""},getLanguage:function(c){return(c=w[c])?c[f]:""},getCommand:function(c){return(c=h[c])?c[f]:""}}};TCeditor=TCeditor||{};
TCeditor.display=function(c,f,w){for(var h=c||document.body,d=c.clientWidth||window.innerWidth,i=(c.clientHeight||window.innerHeight)-2,m=0,s=0,q=h;null!=q&&null!=q.offsetLeft;)s+=q.offsetLeft,m+=q.offsetTop,q=q.parentNode;var x=new TCeditor.scene(h,d,i),z=null;f&&(z=new TCeditor.FPS(h,d,i,"TR"));var e=new TCeditor.cameracontroller(h,d,i,w),o=new TCeditor.desktop(c,w);return{printScene:function(c,d){return x.printScene(c,d)},createGeometry:function(c){return x.createGeometry(c)},findGeometry:function(c){return x.findGeometry(c)},
getMouse3D:function(c){return x.getMouse3D(c)},getCameraPos:function(){return x.getCameraPos()},getCameraLook:function(){return x.getCameraLook()},setCameraPos:function(c){x.setCameraPos(c);e.setCameraPos(c)},setCameraLook:function(c){x.setCameraLook(c)},getScene:function(){return x.getScene()},getCubeCamera:function(){return x.getCubeCamera()},inCameraController:function(c){return e.isMouseOver(c.x,c.y)},getCameraControlCMD:function(c){return e.getCommand(c.x,c.y)},CameraRotate:function(c,d){"reset"==
c?(e.toHome(),x.resetCamera()):"A"==c?e.toA(d):"B"==c?e.toB(d):e.toMainPoint(c)},CameraLookAt:function(c,h){x.setCameraLookAt(c/d,h/i)},CameraZoom:function(c){x.setCameraZoom(c/d)},inButtonBars:function(c){return o.inBars(c.x,c.y)},getButtonBarsCMD:function(){return o.btnCMD()},getButtonOver:function(){return o.overCMD()},hideMenuItem:function(){o.hideMenuItem()},showMenu:function(c){o.showMenu(c)},clearButtonBarsCMD:function(){o.clearBtnCMD()},cmdAlert:function(c){o.cmdAlert(c)},msgAlert:function(c){o.msgAlert(c)},
helpWindow:function(){o.helpWindow()},ioWindow:function(c,d){o.ioWindow(c,d)},createWindow:function(c){o.createWindow(c)},clearWindow:function(c){o.clearWindow(c)},moveWindow:function(c,h,f){var e=1*c.style.left.split("px")[0],l=1*c.style.top.split("px")[0],m=1*c.style.width.split("px")[0],o=1*c.style.height.split("px")[0],l=l+f>i-o?i-o:l+f;0>l&&(l=0);e=e+h>d-m?d-m:e+h;0>e&&(e=0);c.style.top=l+"px";c.style.left=e+"px"},funEnable:function(c){o.funEnable(c)},funWindow:function(c){o.funWindow(c)},active:function(c){e.setActive(c);
o.setActive(c)},lng:function(){return new TCeditor.language(w)},getSize:function(){return{width:d,height:i}},render:function(){x.setCameraPos(e.getCameraPos());x.render();e.render();z&&z.render()},resize:function(){for(var c=h,f=0,q=0;null!=c&&null!=c.offsetLeft;)f+=c.offsetLeft,q+=c.offsetTop,c=c.parentNode;var c=h.offsetWidth||h.clientWidth||window.innerWidth,p=h.offsetHeight||h.clientHeight||window.innerHeight;d==c&&i==p||(d=c,i=p,m=q,s=f,x.resize(d,i),e.resize(d,i),z&&z.resize(d,i),o.resize(d,
i,m,s))}}};TCeditor=TCeditor||{};
TCeditor.desktop=function(c,f){for(var w={div:function(c){var d=document.createElement("div");d.style.cssText=c;return d},input:function(c,d,k){var h=document.createElement("input");h.type=c;h.style.cssText=k;h.disabled=d;return h},img:function(c,d){var k=document.createElement("img");k.src=c;k.style.cssText=d;return k},button:function(c,d){var k=document.createElement("button");k.className=d;k.innerHTML=c;return k},textarea:function(c){var d=document.createElement("textarea");d.style.cssText=c;return d},
label:function(c,d){var k=document.createElement("div");k.style.cssText=c;k.innerHTML=d;return k},inputNum:function(c,d){var k=document.createElement("input");k.type="number";k.style.cssText=c;k.className="inputNum";k.max=d.max;k.min=d.min;k.value=d.value;k.step=d.step;k.resetValue=function(){k.value=d.value};return k},checkbox:function(c,d){var k=document.createElement("input");k.type="checkbox";k.style.cssText=d;k.checked=c;return k}},h=new TCeditor.information(f),d=new TCeditor.language(f),i=c||
document.body,m=c.clientWidth||window.innerWidth,s=(c.clientHeight||window.innerHeight)-2,q=i;null!=q&&null!=q.offsetLeft;)q=q.parentNode;var x=h.menu(),z=h.window(),e=new TCeditor.window(i,m,s,d,w),o="selectObjBtn",v="",j="",B=s-57;_my=0;_mw=m;_mh=62;var p=function(){for(var c in x)if(x[c].childShow)x[c].childContainer.style.visibility="hidden",x[c].childShow=!1},l=function(c){c.src=d.getImgUrl(c.id.split(":")[1]+"_over");j=c.id},J=function(c){c.src=d.getImgUrl(c.id.split(":")[1]+"_normal")},H=function(c){v=
c.id;if(0>c.id.indexOf("addGeoBtn"))c.parentNode.style.visibility="hidden"},u=w.div("position:absolute;width:"+m+"px;height:25px;top:"+(s-25)+"px;left:0px;background-color:#525252;opacity:80;border-top:1px solid #C8C8C8;"),C=w.input("text","disabled","background-color:#525252;height:23px;width:150px;border-style:none;color:#ffff00;text-align:left;position:absolute;left:0px;top:0px;text-align:center;"),A=w.input("text","disabled","background-color:#525252;height:23px;width:400px;border-style:none;color:#ffffff;text-align:left;position:absolute;left:150px;top:0px;");
u.appendChild(A);u.appendChild(C);i.appendChild(u);for(var I=w.div("position:absolute;width:32px;height:"+(s-57)+"px;top:32px;left:0px;background-color:#525252;"),h=h.create().split(";"),q=0;q<h.length;q++){var E=w.img(d.getImgUrl(h[q]+"_normal"),"cursor:pointer;position:absolute;width:32px;height:31px;top:"+31*q+"px;left:0px;");E.id="addGeoBtn:"+h[q];E.addEventListener("mouseover",function(){l(this)},!1);E.addEventListener("mouseout",function(){J(this)},!1);E.addEventListener("mouseup",function(){H(this)},
!1);I.appendChild(E)}i.appendChild(I);var K=w.div("position:absolute;width:"+m+"px;height:31px;top:0px;left:0px;background-color:#525252;border-bottom:1px solid #C8C8C8;"),G=0,k;for(k in x){x[k].btn="selectObjBtn"!=k?w.img(d.getImgUrl(k+"_normal"),"cursor:pointer;"):w.img(d.getImgUrl(k+"_active"),"cursor:pointer;");x[k].btn.id=k;x[k].btn.addEventListener("mouseover",function(){var c=this.id;x[c].btn.src=d.getImgUrl(c+"_over");j=c;p();if(x[c].childmenuStr)x[c].childContainer.style.visibility="visible",
x[c].childShow=!0},!1);x[k].btn.addEventListener("mouseout",function(){var c=this.id;x[c].btn.src=c==o?d.getImgUrl(c+"_active"):d.getImgUrl(c+"_normal")},!1);x[k].btn.addEventListener("mouseup",function(){v=this.id},!1);K.appendChild(x[k].btn);if(x[k].childmenuStr){h=x[k].childmenuStr.split(";");x[k].childContainer=w.div("border:1px solid #C8C8C8;visibility:hidden;position:absolute;width:"+32*h.length+"px;height:31px;top:31px;left:"+32*G+"px;background-color:#525252;");for(q=0;q<h.length;q++)E=w.img(d.getImgUrl(h[q]+
"_normal"),"cursor:pointer;"),E.id=k+":"+h[q],E.addEventListener("mouseover",function(){l(this)},!1),E.addEventListener("mouseout",function(){J(this)},!1),E.addEventListener("mouseup",function(){H(this)},!1),x[k].childContainer.appendChild(E);i.appendChild(x[k].childContainer)}G++}i.appendChild(K);return{cmdAlert:function(c){C.value=c},msgAlert:function(c){A.value=c},helpWindow:function(){e.helpWindow()},ioWindow:function(c,d){e.ioWindow(c,d)},createWindow:function(c){c=z[c];null!=c&&e.createWindow(c)},
clearWindow:function(c){e.clearWindow(c)},funWindow:function(c){e.setFunWindow(c)},funEnable:function(c){e.setFunEnable(c)},btnCMD:function(){return v},overCMD:function(){return j},setActive:function(c){o=c;for(var k in x)x[k].btn.src=k==c?d.getImgUrl(k+"_active"):d.getImgUrl(k+"_normal")},clearBtnCMD:function(){v=""},hideMenuItem:function(){p()},showMenu:function(c){if(x[c]&&x[c].childContainer)p(),x[c].childContainer.style.visibility="visible",x[c].childShow=!0},inBars:function(c,d){return 0<c&&
32>c&&0<d&&d<0+B||0<c&&c<0+_mw&&d>_my&&d<_my+_mh?!0:!1},resize:function(c,d){m=c;s=d;u.style.width=c+"px";u.style.top=d-25+"px";I.style.height=d-57+"px";K.style.width=c+"px";e.resize(c,d)}}};TCeditor=TCeditor||{};
TCeditor.window=function(c,f,w,h,d){var i="textures/";-1<(window.location+" ").indexOf("www.tctctc.com")&&(i="/textures/");var m=null,s=null,q=d.div("top:0px;left:0px;position:absolute;background-image:url("+h.getImgUrl("overlay")+");width:"+f+"px;height:"+w+"px;opacity:0;"),x=function(d,h,f){0==h&&c.appendChild(d);var k=h/100,F=f/100;if(0==f&&0.3>Math.abs(k))c.removeChild(d);else if(k<F)k+=0.1,d.style.opacity=k,k<F&&setTimeout(function(){x(d,100*k,100*F)},5);else if(k>F)k-=0.1,d.style.opacity=k,
k>F&&setTimeout(function(){x(d,100*k,100*F)},5)},z=function(c){function K(){q.innerHTML=D+1+"/"+L;o.innerHTML="";var h=p[k][0];if(h)for(var K=5,e=5,f=0,G=D*F+1;G<(D+1)*F+1&&!(G>h);G++){var P="s";"ground"==k&&(P="");var m="";10>G?m="00"+G:100>m&&(m="0"+G);var y=i+k+"/"+m+"."+p[k][1],P=d.img(i+k+"/"+P+m+"."+p[k][1],"position:absolute;top:"+K+"px;left:"+e+"px;width:185px;height:185px;");P.value=y;o.appendChild(P);P.addEventListener("mouseup",function(){if(c)c.value=this.value;x(l,100,0)},!1);f++;0==
f%4?(K+=190,e=5):e+=190}}var e=0.5*(w-530)-100;0>e&&(e=0);var k="",F=40,D=0,L=0,l=d.div("top:"+e+"px;left:"+0.5*(f-800)+"px;position:absolute;border:1px solid #000000;background-color:#656565;width:800px;height:530px;opacity:0;");l.typeid="material";e=d.div("position:absolute;top:0px;left:0px;height:30px;width:800px;background-image:url("+h.getImgUrl("boxtop")+");");e.addEventListener("mousedown",function(){m("move",l)},!1);e.addEventListener("mouseup",function(){m("clearmove",l)},!1);var j=d.div("position:absolute;top:0px;left:0px;height:30px;width:775px;font-family:\u5fae\u8f6f\u96c5\u9ed1;color:#FFFFFF;font-size:14px;padding-top:4px;padding-left:4px;"),
y=d.img(h.getImgUrl("close_normal"),"position:absolute;top:5px;left:775px;");y.addEventListener("mouseover",function(){y.src=h.getImgUrl("close_over")},!1);y.addEventListener("mouseout",function(){y.src=h.getImgUrl("close_normal")},!1);y.addEventListener("mouseup",function(){m("cancel",l)},!1);l.appendChild(e);e.appendChild(y);e.appendChild(j);j.innerHTML=h.getLanguage("l022");var p=(new TCeditor.information).texture(),o=d.div("border:1px solid #CECECE;position:absolute;top:59px;left:5px;height:460px;width:790px;overflow-y:scroll;");
l.appendChild(o);var e=0,P;for(P in p)""==k&&(k=P),j=d.button(P,"normalbtn"),j.style.cssText="position:absolute;top:35px;left:"+(69*e+5)+"px;",j.key=P,j.addEventListener("click",function(){k=this.key;D=0;u.value=1;L=parseInt(p[k][0]/F);L*F<p[k][0]&&L++;u.max=L;K()},!1),l.appendChild(j),e++;L=parseInt(p[k][0]/F);L*F<p[k][0]&&L++;var u=d.inputNum("position:absolute;top:35px;left:725px;width:70px;height:18px;",{value:1,step:1,max:L,min:1});l.appendChild(u);u.onchange=function(){D=u.value-1;K()};var q=
d.div("border:1px solid #CECECE;position:absolute;top:35px;left:650px;height:20px;width:70px;color:#FFFFFF;text-align:center;");l.appendChild(q);K();x(l,0,100);return l},e=function(c,K,e,k,f){var D=d.div("position:absolute;top:"+k+"px;left:"+e+"px;height:"+K+"px;width:"+c+"px;"),K=d.div("padding-top:5px;color:#FFFFFF;position:absolute;top:0px;left:5px;height:30px;width:"+(c-5)+"px;");K.innerHTML=h.getLanguage("h001");var e=d.div("border:1px solid #CECECE;position:absolute;top:35px;left:10px;height:330px;width:330px;"),
k=d.div("border:1px solid #CECECE;position:absolute;top:35px;left:345px;height:30px;width:"+(c-350)+"px;"),c=d.div("border:1px solid #CECECE;position:absolute;top:67px;left:345px;height:298px;width:"+(c-350)+"px;"),l=TCeditor.materialViewer(e,330,330),m=v(l,290,170),j=d.label("position:absolute;top:5px;left:0px;width:85px;height:24px;color:#FFFFFF;text-align:right;",h.getLanguage("l011")),y=d.label("position:absolute;top:5px;left:110px;width:78px;height:24px;color:#FFFFFF;text-align:right;",h.getLanguage("l012")),
p=d.label("position:absolute;top:5px;left:285px;width:90px;height:24px;color:#FFFFFF;text-align:right;text-align:right;",h.getLanguage("l013")),u=d.label("position:absolute;top:10px;left:25px;width:60px;height:24px;color:#FFFFFF;text-align:right;",h.getLanguage("l014")),P=d.label("position:absolute;top:10px;left:245px;width:60px;height:24px;color:#FFFFFF;text-align:right;",h.getLanguage("l016")),o=d.label("position:absolute;top:40px;left:25px;width:60px;height:24px;color:#FFFFFF;text-align:right;",
h.getLanguage("l015")),q=d.label("position:absolute;top:70px;left:25px;width:60px;height:24px;color:#FFFFFF;text-align:right;",h.getLanguage("l017")),A=d.label("position:absolute;top:110px;left:25px;width:60px;height:24px;color:#FFFFFF;text-align:right;",h.getLanguage("l018")),s=d.label("position:absolute;top:110px;left:200px;width:60px;height:24px;color:#FFFFFF;text-align:right;",h.getLanguage("l019")),x=d.label("position:absolute;top:150px;left:25px;width:60px;height:24px;color:#FFFFFF;text-align:right;",
h.getLanguage("l020")),C=d.label("position:absolute;top:150px;left:200px;width:60px;height:24px;color:#FFFFFF;text-align:right;",h.getLanguage("l021")),w=d.checkbox(!1,"position:absolute;top:5px;left:375px;"),I=d.checkbox(!1,"position:absolute;top:5px;left:90px;"),B=d.input("text","","position:absolute;top:5px;left:190px;width:60px;height:18px;");B.className="inputNum";B.value="#000000";B.addEventListener("click",colorPicker,!1);var J=d.inputNum("position:absolute;top:9px;left:307px;width:70px;height:18px;",
{value:1,step:0.1,max:1,min:0}),H=d.checkbox(!0,"position:absolute;top:10px;left:5px;"),Q=d.input("text","","position:absolute;top:8px;left:90px;width:100px;height:18px;");Q.className="inputNum";Q.value="#FFFFFF";Q.addEventListener("click",colorPicker,!1);var T=d.checkbox(!1,"position:absolute;top:40px;left:5px;"),W=d.input("text","disabled","position:absolute;top:37px;left:90px;width:213px;height:20px;");W.className="inputNum";W.value=i+"default.jpg";var O=d.checkbox(!1,"position:absolute;top:70px;left:5px;"),
M=d.input("text","","position:absolute;top:107px;left:90px;width:70px;height:18px;");M.className="inputNum";M.value="#FFFFFF";M.addEventListener("click",colorPicker,!1);var N=d.input("text","","position:absolute;top:107px;left:265px;width:70px;height:18px;");N.className="inputNum";N.value="#FFFFFF";N.addEventListener("click",colorPicker,!1);var R=d.inputNum("position:absolute;top:147px;left:90px;width:70px;height:18px;",{value:15,step:1,max:100,min:1}),S=d.checkbox(!1,"position:absolute;top:150px;left:262px;"),
U=d.button(h.getLanguage("b019"),"normalbtn");U.style.cssText="position:absolute;top:37px;left:307px;";var V=d.button(h.getLanguage("b020"),"normalbtn");V.style.cssText="position:absolute;top:37px;left:377px;";O.disabled="disabled";M.disabled="disabled";N.disabled="disabled";R.disabled="disabled";S.disabled="disabled";B.disabled="disabled";U.disabled="disabled";V.disabled="disabled";U.addEventListener("click",function(){z(W)},!1);V.addEventListener("click",function(){alert("to do")},!1);I.onchange=
function(){B.disabled=I.checked?"":"disabled"};w.onchange=function(){if(w.checked)I.disabled="disabled",B.disabled="disabled",J.disabled="disabled",H.disabled="disabled",Q.disabled="disabled",T.disabled="disabled",W.disabled="disabled",O.disabled="disabled",M.disabled="disabled",N.disabled="disabled",R.disabled="disabled",S.disabled="disabled",U.disabled="disabled",V.disabled="disabled";else{I.disabled="";J.disabled="";H.disabled="";T.disabled="";if(I.checked)B.disabled="";if(H.checked)Q.disabled=
"";if(T.checked)O.disabled="",U.disabled="",V.disabled="";if(T.checked&&O.checked)M.disabled="",N.disabled="",R.disabled="",S.disabled=""}};H.addEventListener("click",function(){if(this.checked)Q.disabled="",T.checked=!1,O.disabled="disabled",M.disabled="disabled",N.disabled="disabled",R.disabled="disabled",S.disabled="disabled",U.disabled="disabled",V.disabled="disabled";else if(Q.disabled="disabled",T.checked=!0,U.disabled="",V.disabled="",O.disabled="",O.checked)M.disabled="",N.disabled="",R.disabled=
"",S.disabled=""},!1);T.addEventListener("click",function(){if(this.checked){if(H.checked=!1,Q.disabled="disabled",O.disabled="",U.disabled="",V.disabled="",O.checked)M.disabled="",N.disabled="",R.disabled="",S.disabled=""}else H.checked=!0,Q.disabled="",O.disabled="disabled",U.disabled="disabled",V.disabled="disabled",M.disabled="disabled",N.disabled="disabled",R.disabled="disabled",S.disabled="disabled"},!1);O.addEventListener("click",function(){this.checked?(M.disabled="",N.disabled="",R.disabled=
"",S.disabled=""):(M.disabled="disabled",N.disabled="disabled",R.disabled="disabled",S.disabled="disabled")},!1);c.appendChild(S);c.appendChild(R);c.appendChild(M);c.appendChild(N);c.appendChild(A);c.appendChild(s);c.appendChild(x);c.appendChild(C);c.appendChild(q);c.appendChild(O);c.appendChild(J);c.appendChild(P);c.appendChild(V);c.appendChild(U);c.appendChild(W);c.appendChild(o);c.appendChild(T);c.appendChild(Q);c.appendChild(u);c.appendChild(H);k.appendChild(I);k.appendChild(j);k.appendChild(y);
k.appendChild(B);k.appendChild(p);k.appendChild(w);D.appendChild(K);D.appendChild(e);D.appendChild(c);D.appendChild(k);D.appendChild(m);D.clearValue=function(){I.disabled="";J.disabled="";H.disabled="";T.disabled="";Q.disabled="";B.disabled="disabled";O.disabled="disabled";M.disabled="disabled";N.disabled="disabled";R.disabled="disabled";S.disabled="disabled";U.disabled="disabled";V.disabled="disabled";w.checked=!1;I.checked=!1;B.value="#000000";J.value=1;H.checked=!0;Q.value="#FFFFFF";T.checked=
!1;W.value=i+"default.jpg";O.checked=!1;M.value="#FFFFFF";N.value="#FFFFFF";R.value=15;S.checked=!1};D.getValue=function(){var c="";if(w.checked)return"M5";H.checked&&(c+="M2_"+Q.value.split("#")[1]+"_"+J.value);if(T.checked)var d=W.value,k=J.value,h=M.value.split("#")[1],K=N.value.split("#")[1],E=R.value,e=S.checked,c=O.checked?c+("M4:"+d+":"+k+":"+h+":"+K+":"+E+":"+e):c+("M3:"+d+":"+k);I.checked&&(c+=";M1_"+B.value.split("#")[1]);return c};D.preview=function(){var c=f.getValue();c.materialStr=D.getValue();
l.showMaterial(c)};return D},o=function(c,K){var G=0.5*(w-430)-100;0>G&&(G=0);var k=d.div("top:"+G+"px;left:"+0.5*(f-800)+"px;position:absolute;border:1px solid #000000;background-color:#656565;width:800px;height:430px;opacity:0;");k.typeid="material";var F=d.div("position:absolute;top:0px;left:0px;height:30px;width:800px;background-image:url("+h.getImgUrl("boxtop")+");");F.addEventListener("mousedown",function(){m("move",k)},!1);F.addEventListener("mouseup",function(){m("clearmove",k)},!1);var D=
d.div("position:absolute;top:0px;left:0px;height:30px;width:775px;font-family:\u5fae\u8f6f\u96c5\u9ed1;color:#FFFFFF;font-size:14px;padding-top:4px;padding-left:4px;"),l=d.img(h.getImgUrl("close_normal"),"position:absolute;top:5px;left:775px;");l.addEventListener("mouseover",function(){l.src=h.getImgUrl("close_over")},!1);l.addEventListener("mouseout",function(){l.src=h.getImgUrl("close_normal")},!1);l.addEventListener("mouseup",function(){m("cancel",k)},!1);var i=e(800,370,0,30,K),G=["b001","b002",
"b003","b004"];k.appendChild(F);F.appendChild(l);F.appendChild(D);D.innerHTML=h.getLanguage("l003");for(F=0;F<G.length;F++)D=d.button(h.getLanguage(G[F]),"normalbtn"),D.id=h.getLanguage(G[F]),D.cmd=0==F?"ok":1==F?"preview":2==F?"reset":"cancel",D.style.cssText="position:absolute;top:400px;left:"+(10+70*F)+"px;",D.addEventListener("mouseup",function(){m(this.cmd,k)},!1),k.appendChild(D);k.appendChild(i);k.preview=function(){i.preview()};k.clearValue=function(){i.clearValue()};k.ok=function(){if(c)c.value=
i.getValue();x(k,100,0)};x(k,0,100);return k},v=function(c,h,e){h=d.div("position:absolute;width:175px;height:80px;top:"+h+"px;left:"+e+"px;");e=d.button("\u2191","normalbtn");h.appendChild(e);e.style.cssText="position:absolute;top:0px;left:25px;width:25px;height:25px;";var k=d.button("\u2193","normalbtn");h.appendChild(k);k.style.cssText="position:absolute;top:50px;left:25px;width:25px;height:25px;";var f=d.button("\u2190","normalbtn");h.appendChild(f);f.style.cssText="position:absolute;top:25px;left:0px;width:25px;height:25px;";
var D=d.button("\u2192","normalbtn");h.appendChild(D);D.style.cssText="position:absolute;top:25px;left:50px;width:25px;height:25px;";var l=d.button("+","normalbtn");h.appendChild(l);l.style.cssText="position:absolute;top:15px;left:80px;width:25px;height:25px;";var i=d.button("-","normalbtn");h.appendChild(i);i.style.cssText="position:absolute;top:43px;left:80px;width:25px;height:25px;";var m=d.button("\u25e4","normalbtn");h.appendChild(m);m.style.cssText="position:absolute;top:15px;left:110px;width:25px;height:25px;";
var y=d.button("\u25e5","normalbtn");h.appendChild(y);y.style.cssText="position:absolute;top:43px;left:110px;width:25px;height:25px;";var j=d.button("\u25b3","normalbtn");h.appendChild(j);j.style.cssText="position:absolute;top:15px;left:140px;width:25px;height:25px;";var p=d.button("\u25bc","normalbtn");h.appendChild(p);p.style.cssText="position:absolute;top:43px;left:140px;width:25px;height:25px;";l.addEventListener("mousedown",function(){c.radius(1)},!1);l.addEventListener("mouseup",function(){c.radius(0)},
!1);i.addEventListener("mousedown",function(){c.radius(2)},!1);i.addEventListener("mouseup",function(){c.radius(0)},!1);m.addEventListener("mousedown",function(){c.angleB(1)},!1);m.addEventListener("mouseup",function(){c.angleB(0)},!1);y.addEventListener("mousedown",function(){c.angleB(2)},!1);y.addEventListener("mouseup",function(){c.angleB(0)},!1);j.addEventListener("mousedown",function(){c.angleA(1)},!1);j.addEventListener("mouseup",function(){c.angleA(0)},!1);p.addEventListener("mousedown",function(){c.angleA(2)},
!1);p.addEventListener("mouseup",function(){c.angleA(0)},!1);e.addEventListener("mousedown",function(){c.look(1)},!1);e.addEventListener("mouseup",function(){c.look(0)},!1);k.addEventListener("mousedown",function(){c.look(2)},!1);k.addEventListener("mouseup",function(){c.look(0)},!1);f.addEventListener("mousedown",function(){c.look(3)},!1);f.addEventListener("mouseup",function(){c.look(0)},!1);D.addEventListener("mousedown",function(){c.look(4)},!1);D.addEventListener("mouseup",function(){c.look(0)},
!1);return h},j=function(c,K,e,k,f){function l(k){var e=d.div("position:absolute;top:0px;left:0px;width:"+(c-2)+"px;height:"+(K-25*m.length)+"px;color:#FFFFFF;border:1px solid #FFFFFF;");e.isShow=!1;e.resetValue=null;switch(k){case 0:var G=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t003")),D=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",h.getLanguage("t002")),i=d.label("position:absolute;top:54px;left:2px;width:78px;height:24px;",h.getLanguage("t001")),
k=d.label("position:absolute;top:80px;left:2px;width:78px;height:24px;",h.getLanguage("t030")),L=d.label("position:absolute;top:106px;left:2px;width:78px;height:24px;",h.getLanguage("t036")),j=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",f.length),y=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",f.width),p=d.inputNum("position:absolute;top:54px;left:65px;width:85px;height:18px;",f.height),u=d.inputNum("position:absolute;top:80px;left:65px;width:85px;height:18px;",
f.segments),o={value:0,step:0.1,max:2,min:-2},q=d.inputNum("position:absolute;top:136px;left:7px;width:40px;height:18px;",o),da=d.inputNum("position:absolute;top:136px;left:55px;width:40px;height:18px;",o),v=d.inputNum("position:absolute;top:136px;left:103px;width:40px;height:18px;",o),A=d.inputNum("position:absolute;top:136px;left:151px;width:40px;height:18px;",o),s=d.inputNum("position:absolute;top:162px;left:7px;width:40px;height:18px;",o),w=d.inputNum("position:absolute;top:162px;left:55px;width:40px;height:18px;",
o),x=d.inputNum("position:absolute;top:162px;left:103px;width:40px;height:18px;",o),z=d.inputNum("position:absolute;top:162px;left:151px;width:40px;height:18px;",o),C=d.inputNum("position:absolute;top:188px;left:7px;width:40px;height:18px;",o),ca=d.inputNum("position:absolute;top:188px;left:55px;width:40px;height:18px;",o),I=d.inputNum("position:absolute;top:188px;left:103px;width:40px;height:18px;",o),B=d.inputNum("position:absolute;top:188px;left:151px;width:40px;height:18px;",o),H=d.inputNum("position:absolute;top:214px;left:7px;width:40px;height:18px;",
o),J=d.inputNum("position:absolute;top:214px;left:55px;width:40px;height:18px;",o),ia=d.inputNum("position:absolute;top:214px;left:103px;width:40px;height:18px;",o),ea=d.inputNum("position:absolute;top:214px;left:151px;width:40px;height:18px;",o);e.appendChild(G);e.appendChild(D);e.appendChild(i);e.appendChild(k);e.appendChild(L);e.appendChild(j);e.appendChild(y);e.appendChild(p);e.appendChild(u);e.appendChild(q);e.appendChild(da);e.appendChild(v);e.appendChild(A);e.appendChild(s);e.appendChild(w);
e.appendChild(x);e.appendChild(z);e.appendChild(C);e.appendChild(ca);e.appendChild(I);e.appendChild(B);e.appendChild(H);e.appendChild(J);e.appendChild(ia);e.appendChild(ea);e.resetValue=function(){q.resetValue();da.resetValue();v.resetValue();A.resetValue();s.resetValue();w.resetValue();x.resetValue();z.resetValue();C.resetValue();ca.resetValue();I.resetValue();B.resetValue();H.resetValue();J.resetValue();B.resetValue();ea.resetValue();j.resetValue();y.resetValue();p.resetValue();u.resetValue()};
e.getValue=function(){return{t:"s01",l:j.value,w:y.value,h:p.value,s:u.value,p:[[q.value,da.value,v.value,A.value],[s.value,w.value,x.value,z.value],[C.value,ca.value,I.value,B.value],[H.value,J.value,B.value,ea.value]]}};break;case 1:var G=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t003")),D=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",h.getLanguage("t002")),i=d.label("position:absolute;top:54px;left:2px;width:78px;height:24px;",h.getLanguage("t001")),
L=d.label("position:absolute;top:80px;left:2px;width:78px;height:24px;",h.getLanguage("t037")),k=d.label("position:absolute;top:106px;left:2px;width:78px;height:24px;",h.getLanguage("t030")),j=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",f.length),y=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",f.width),p=d.inputNum("position:absolute;top:54px;left:65px;width:85px;height:18px;",f.height),X=d.inputNum("position:absolute;top:80px;left:65px;width:85px;height:18px;",
{value:0.5,step:0.1,max:2,min:0.1}),u=d.inputNum("position:absolute;top:106px;left:65px;width:85px;height:18px;",f.segments);e.appendChild(G);e.appendChild(D);e.appendChild(i);e.appendChild(L);e.appendChild(k);e.appendChild(j);e.appendChild(y);e.appendChild(p);e.appendChild(X);e.appendChild(u);e.resetValue=function(){j.resetValue();y.resetValue();p.resetValue();X.resetValue();u.resetValue()};e.getValue=function(){return{t:"s02",l:j.value,w:y.value,h:p.value,i:X.value,s:u.value}};break;case 2:var G=
d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t007")),L=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",h.getLanguage("t038")),o=d.label("position:absolute;top:28px;left:118px;width:20px;height:24px;","-"),D=d.label("position:absolute;top:54px;left:2px;width:78px;height:24px;",h.getLanguage("t039")),i=d.label("position:absolute;top:54px;left:118px;width:20px;height:24px;","-"),k=d.label("position:absolute;top:80px;left:2px;width:78px;height:24px;",
h.getLanguage("t030")),Y=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",f.length),Z=d.inputNum("position:absolute;top:28px;left:65px;width:45px;height:18px;",{value:-90,step:1,max:-1,min:-90}),$=d.inputNum("position:absolute;top:28px;left:130px;width:45px;height:18px;",{value:90,step:1,max:90,min:0}),fa=d.inputNum("position:absolute;top:54px;left:65px;width:45px;height:18px;",{value:-180,step:1,max:-1,min:-180}),ga=d.inputNum("position:absolute;top:54px;left:130px;width:45px;height:18px;",
{value:180,step:1,max:180,min:0}),u=d.inputNum("position:absolute;top:80px;left:65px;width:85px;height:18px;",f.segments);e.appendChild(G);e.appendChild(L);e.appendChild(D);e.appendChild(o);e.appendChild(i);e.appendChild(k);e.appendChild(Y);e.appendChild(Z);e.appendChild($);e.appendChild(fa);e.appendChild(ga);e.appendChild(u);e.resetValue=function(){Y.resetValue();Z.resetValue();$.resetValue();fa.resetValue();ga.resetValue();u.resetValue()};e.getValue=function(){return{t:"s03",r:Y.value,a:[Z.value*
Math.PI/180,$.value*Math.PI/180],b:[fa.value*Math.PI/180,ga.value*Math.PI/180],s:u.value}};break;case 3:G=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t003"));D=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",h.getLanguage("t002"));i=d.label("position:absolute;top:54px;left:2px;width:78px;height:24px;",h.getLanguage("t001"));k=d.label("position:absolute;top:80px;left:2px;width:78px;height:24px;",h.getLanguage("t030"));j=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",
f.length);y=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",f.width);p=d.inputNum("position:absolute;top:54px;left:65px;width:85px;height:18px;",f.height);u=d.inputNum("position:absolute;top:80px;left:65px;width:85px;height:18px;",f.segments);e.appendChild(G);e.appendChild(D);e.appendChild(i);e.appendChild(k);e.appendChild(j);e.appendChild(y);e.appendChild(p);e.appendChild(u);e.resetValue=function(){j.resetValue();y.resetValue();p.resetValue();u.resetValue()};e.getValue=
function(){return{t:"s04",l:j.value,w:y.value,h:p.value,s:u.value}};break;case 4:G=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t003"));D=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",h.getLanguage("t002"));i=d.label("position:absolute;top:54px;left:2px;width:78px;height:24px;",h.getLanguage("t001"));k=d.label("position:absolute;top:80px;left:2px;width:78px;height:24px;",h.getLanguage("t030"));labelP0=d.label("position:absolute;top:106px;left:2px;width:78px;height:24px;",
"&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;P0:");labelP1=d.label("position:absolute;top:132px;left:2px;width:78px;height:24px;","&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;P1:");labelP2=d.label("position:absolute;top:158px;left:2px;width:78px;height:24px;","&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;P2:");var j=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",f.length),y=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",
f.width),p=d.inputNum("position:absolute;top:54px;left:65px;width:85px;height:18px;",f.height),u=d.inputNum("position:absolute;top:80px;left:65px;width:85px;height:18px;",f.segments),aa=d.inputNum("position:absolute;top:106px;left:65px;width:85px;height:18px;",{value:1,step:0.1,max:10,min:-10}),ba=d.inputNum("position:absolute;top:132px;left:65px;width:85px;height:18px;",{value:-0.5,step:0.1,max:10,min:-10}),ha=d.inputNum("position:absolute;top:158px;left:65px;width:85px;height:18px;",{value:1,step:0.1,
max:10,min:-10});e.appendChild(G);e.appendChild(D);e.appendChild(i);e.appendChild(k);e.appendChild(labelP0);e.appendChild(labelP1);e.appendChild(labelP2);e.appendChild(j);e.appendChild(y);e.appendChild(p);e.appendChild(u);e.appendChild(aa);e.appendChild(ba);e.appendChild(ha);e.resetValue=function(){j.resetValue();y.resetValue();p.resetValue();u.resetValue();aa.resetValue();ba.resetValue();ha.resetValue()};e.getValue=function(){return{t:"s05",l:j.value,w:y.value,h:p.value,s:u.value,p:[aa.value,ba.value,
ha.value]}};break;case 5:G=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t003"));D=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",h.getLanguage("t002"));i=d.label("position:absolute;top:54px;left:2px;width:78px;height:24px;",h.getLanguage("t001"));k=d.label("position:absolute;top:80px;left:2px;width:78px;height:24px;",h.getLanguage("t030"));labelP0=d.label("position:absolute;top:106px;left:2px;width:78px;height:24px;","&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;P0:");
labelP1=d.label("position:absolute;top:132px;left:2px;width:78px;height:24px;","&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;P1:");j=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",f.length);y=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",f.width);p=d.inputNum("position:absolute;top:54px;left:65px;width:85px;height:18px;",f.height);u=d.inputNum("position:absolute;top:80px;left:65px;width:85px;height:18px;",f.segments);aa=d.inputNum("position:absolute;top:106px;left:65px;width:85px;height:18px;",
{value:1,step:0.1,max:10,min:-10});ba=d.inputNum("position:absolute;top:132px;left:65px;width:85px;height:18px;",{value:-0.5,step:0.1,max:10,min:-10});e.appendChild(G);e.appendChild(D);e.appendChild(i);e.appendChild(k);e.appendChild(labelP0);e.appendChild(labelP1);e.appendChild(j);e.appendChild(y);e.appendChild(p);e.appendChild(u);e.appendChild(aa);e.appendChild(ba);e.resetValue=function(){j.resetValue();y.resetValue();p.resetValue();u.resetValue();aa.resetValue();ba.resetValue()};e.getValue=function(){return{t:"s06",
l:j.value,w:y.value,h:p.value,s:u.value,p:[aa.value,ba.value]}};break;case 6:G=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t003"));D=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",h.getLanguage("t002"));i=d.label("position:absolute;top:54px;left:2px;width:78px;height:24px;",h.getLanguage("t001"));k=d.label("position:absolute;top:80px;left:2px;width:78px;height:24px;",h.getLanguage("t030"));j=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",
f.length);y=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",f.width);p=d.inputNum("position:absolute;top:54px;left:65px;width:85px;height:18px;",f.height);u=d.inputNum("position:absolute;top:80px;left:65px;width:85px;height:18px;",f.segments);e.appendChild(G);e.appendChild(D);e.appendChild(i);e.appendChild(k);e.appendChild(j);e.appendChild(y);e.appendChild(p);e.appendChild(u);e.resetValue=function(){j.resetValue();y.resetValue();p.resetValue();u.resetValue()};e.getValue=
function(){return{t:"s07",l:j.value,w:y.value,h:p.value,s:u.value}};break;case 7:G=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t003"));D=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",h.getLanguage("t002"));i=d.label("position:absolute;top:54px;left:2px;width:78px;height:24px;",h.getLanguage("t001"));L=d.label("position:absolute;top:80px;left:2px;width:78px;height:24px;",h.getLanguage("t037"));k=d.label("position:absolute;top:106px;left:2px;width:78px;height:24px;",
h.getLanguage("t030"));j=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",f.length);y=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",f.width);p=d.inputNum("position:absolute;top:54px;left:65px;width:85px;height:18px;",f.height);X=d.inputNum("position:absolute;top:80px;left:65px;width:85px;height:18px;",{value:0.5,step:0.1,max:2,min:0.1});u=d.inputNum("position:absolute;top:106px;left:65px;width:85px;height:18px;",f.segments);e.appendChild(G);e.appendChild(D);
e.appendChild(i);e.appendChild(L);e.appendChild(k);e.appendChild(j);e.appendChild(y);e.appendChild(p);e.appendChild(X);e.appendChild(u);e.resetValue=function(){j.resetValue();y.resetValue();p.resetValue();X.resetValue();u.resetValue()};e.getValue=function(){return{t:"s08",l:j.value,w:y.value,h:p.value,i:X.value,s:u.value}};break;case 8:G=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t003"));D=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",
h.getLanguage("t002"));i=d.label("position:absolute;top:54px;left:2px;width:78px;height:24px;",h.getLanguage("t001"));k=d.label("position:absolute;top:80px;left:2px;width:78px;height:24px;",h.getLanguage("t030"));L=d.label("position:absolute;top:106px;left:2px;width:78px;height:24px;",h.getLanguage("t038"));o=d.label("position:absolute;top:106px;left:118px;width:20px;height:24px;","-");j=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",f.length);y=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",
f.width);p=d.inputNum("position:absolute;top:54px;left:65px;width:85px;height:18px;",f.height);u=d.inputNum("position:absolute;top:80px;left:65px;width:85px;height:18px;",f.segments);Z=d.inputNum("position:absolute;top:106px;left:65px;width:45px;height:18px;",{value:-360,step:1,max:-1,min:-720});$=d.inputNum("position:absolute;top:106px;left:130px;width:45px;height:18px;",{value:360,step:1,max:720,min:0});e.appendChild(G);e.appendChild(D);e.appendChild(i);e.appendChild(k);e.appendChild(L);e.appendChild(o);
e.appendChild(j);e.appendChild(y);e.appendChild(p);e.appendChild(u);e.appendChild(Z);e.appendChild($);e.resetValue=function(){j.resetValue();y.resetValue();p.resetValue();u.resetValue();Z.resetValue();$.resetValue()};e.getValue=function(){return{t:"s09",l:j.value,w:y.value,h:p.value,s:u.value,a:[Z.value*Math.PI/180,$.value*Math.PI/180]}};break;case 9:G=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t007")),k=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",
h.getLanguage("t030")),Y=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",f.length),u=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",f.segments),e.appendChild(G),e.appendChild(k),e.appendChild(Y),e.appendChild(u),e.resetValue=function(){Y.resetValue();u.resetValue()},e.getValue=function(){return{t:"s10",r:Y.value,s:u.value}}}return e}for(var i=d.div("position:absolute;top:"+k+"px;left:"+e+"px;width:"+c+"px;height:"+K+"px;color:#FFFFFF;"),m=[h.getLanguage("c016"),
h.getLanguage("c017"),h.getLanguage("c018"),h.getLanguage("c019"),h.getLanguage("c020"),h.getLanguage("c021"),h.getLanguage("c022"),h.getLanguage("c023"),h.getLanguage("c024"),h.getLanguage("c025")],j=[],y=[],p=0,e=0;e<m.length;e++)k=d.button(m[e],"normalbtn"),i.appendChild(k),k.style.cssText="position:absolute;top:"+25*e+"px;left:0px;width:"+c+"px;height:25px;",k.cmd=e,k.addEventListener("mouseup",function(){for(var c=this.cmd,d=0;d<y.length;d++)if(y[d].isShow)i.removeChild(y[d]),y[d].isShow=!1;
for(var e=0,d=0;d<j.length;d++)if(j[d].style.top=e+"px",e+=25,d==c)i.appendChild(y[d]),y[d].style.top=e+"px",e+=K-25*m.length,y[d].isShow=!0;p=c},!1),j.push(k),y.push(l(e));i.resetValue=function(){for(var c=0;c<y.length;c++)y[c].resetValue()};i.getValue=function(){return y[p].getValue()};return i},B={planeBtn:function(c){var e=d.div("position:absolute;top:5px;left:5px;width:320px;height:52px;color:#FFFFFF;"),f=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t001")),
k=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",h.getLanguage("t002")),F=d.label("position:absolute;top:2px;left:160px;width:78px;height:24px;",h.getLanguage("t004")),D=d.label("position:absolute;top:28px;left:160px;width:78px;height:24px;",h.getLanguage("t005")),l=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",c.length),i=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",c.width),j=d.inputNum("position:absolute;top:2px;left:225px;width:85px;height:18px;",
c.lengthCut),y=d.inputNum("position:absolute;top:28px;left:225px;width:85px;height:18px;",c.widthCut);e.appendChild(f);e.appendChild(k);e.appendChild(F);e.appendChild(D);e.appendChild(i);e.appendChild(l);e.appendChild(j);e.appendChild(y);e.resetValue=function(){l.resetValue();i.resetValue();j.resetValue();y.resetValue()};e.getValue=function(){return{length:l.value,width:i.value,lengthcut:j.value,widthcut:y.value}};return e},cubeBtn:function(c){var e=d.div("position:absolute;top:5px;left:5px;width:320px;height:80px;color:#FFFFFF;"),
f=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t003")),k=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",h.getLanguage("t002")),F=d.label("position:absolute;top:54px;left:2px;width:78px;height:24px;",h.getLanguage("t001")),D=d.label("position:absolute;top:2px;left:160px;width:78px;height:24px;",h.getLanguage("t006")),l=d.label("position:absolute;top:28px;left:160px;width:78px;height:24px;",h.getLanguage("t005")),i=d.label("position:absolute;top:54px;left:160px;width:78px;height:24px;",
h.getLanguage("t004")),j=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",c.length),y=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",c.width),p=d.inputNum("position:absolute;top:54px;left:65px;width:85px;height:18px;",c.height),m=d.inputNum("position:absolute;top:2px;left:225px;width:85px;height:18px;",c.lengthCut),u=d.inputNum("position:absolute;top:28px;left:225px;width:85px;height:18px;",c.widthCut),o=d.inputNum("position:absolute;top:54px;left:225px;width:85px;height:18px;",
c.heightCut);e.appendChild(f);e.appendChild(k);e.appendChild(F);e.appendChild(D);e.appendChild(l);e.appendChild(i);e.appendChild(j);e.appendChild(y);e.appendChild(p);e.appendChild(m);e.appendChild(u);e.appendChild(o);e.resetValue=function(){j.resetValue();y.resetValue();p.resetValue();m.resetValue();u.resetValue();o.resetValue()};e.getValue=function(){return{length:j.value,width:y.value,height:p.value,lengthCut:m.value,widthCut:u.value,heightCut:o.value}};return e},sphereBtn:function(c){var e=d.div("position:absolute;top:5px;left:5px;width:320px;height:52px;color:#FFFFFF;"),
f=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t007")),k=d.label("position:absolute;top:2px;left:160px;width:78px;height:24px;",h.getLanguage("t008")),F=d.label("position:absolute;top:28px;left:160px;width:78px;height:24px;",h.getLanguage("t004")),D=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",c.radius),l=d.inputNum("position:absolute;top:2px;left:225px;width:85px;height:18px;",c.radiusCut),i=d.inputNum("position:absolute;top:28px;left:225px;width:85px;height:18px;",
c.heightCut);e.appendChild(f);e.appendChild(k);e.appendChild(F);e.appendChild(D);e.appendChild(l);e.appendChild(i);e.resetValue=function(){D.resetValue();l.resetValue();i.resetValue()};e.getValue=function(){return{radius:D.value,radiusCut:l.value,heightCut:i.value}};return e},icosahedronBtn:function(c){var e=d.div("position:absolute;top:5px;left:5px;width:320px;height:26px;color:#FFFFFF;"),f=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t029")),k=d.label("position:absolute;top:2px;left:160px;width:78px;height:24px;",
h.getLanguage("t030")),F=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",c.size),l=d.inputNum("position:absolute;top:2px;left:225px;width:85px;height:18px;",c.seg);e.appendChild(f);e.appendChild(k);e.appendChild(F);e.appendChild(l);e.resetValue=function(){F.resetValue();l.resetValue()};e.getValue=function(){return{size:F.value,seg:l.value}};return e},cylinderBtn:function(c){var e=d.div("position:absolute;top:5px;left:5px;width:320px;height:52px;color:#FFFFFF;"),f=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",
h.getLanguage("t007")),k=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",h.getLanguage("t001")),F=d.label("position:absolute;top:2px;left:160px;width:78px;height:24px;",h.getLanguage("t008")),l=d.label("position:absolute;top:28px;left:160px;width:78px;height:24px;",h.getLanguage("t004")),i=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",c.radius),j=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",c.height),p=d.inputNum("position:absolute;top:2px;left:225px;width:85px;height:18px;",
c.radiusCut),y=d.inputNum("position:absolute;top:28px;left:225px;width:85px;height:18px;",c.heightCut);e.appendChild(f);e.appendChild(k);e.appendChild(F);e.appendChild(l);e.appendChild(i);e.appendChild(j);e.appendChild(p);e.appendChild(y);e.resetValue=function(){i.resetValue();j.resetValue();p.resetValue();y.resetValue()};e.getValue=function(){return{radius:i.value,height:j.value,radiusCut:p.value,heightCut:y.value}};return e},cylinderCBtn:function(c){var e=d.div("position:absolute;top:5px;left:5px;width:320px;height:52px;color:#FFFFFF;"),
f=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t007")),k=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",h.getLanguage("t001")),F=d.label("position:absolute;top:2px;left:160px;width:78px;height:24px;",h.getLanguage("t013")),l=d.label("position:absolute;top:28px;left:160px;width:78px;height:24px;",h.getLanguage("t004")),i=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",c.radius),j=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",
c.height),p=d.inputNum("position:absolute;top:2px;left:225px;width:85px;height:18px;",c.radiusCut),y=d.inputNum("position:absolute;top:28px;left:225px;width:85px;height:18px;",c.heightCut);e.appendChild(f);e.appendChild(k);e.appendChild(F);e.appendChild(l);e.appendChild(i);e.appendChild(j);e.appendChild(p);e.appendChild(y);e.resetValue=function(){i.resetValue();j.resetValue();p.resetValue();y.resetValue()};e.getValue=function(){return{radius:i.value,height:j.value,radiusCut:p.value,heightCut:y.value}};
return e},cylinderBBtn:function(c){var e=d.div("position:absolute;top:5px;left:5px;width:320px;height:52px;color:#FFFFFF;"),f=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t007")),k=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",h.getLanguage("t001")),l=d.label("position:absolute;top:2px;left:160px;width:78px;height:24px;",h.getLanguage("t008")),i=d.label("position:absolute;top:28px;left:160px;width:78px;height:24px;",h.getLanguage("t004")),
j=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",c.radius),p=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",c.height),m=d.inputNum("position:absolute;top:2px;left:225px;width:85px;height:18px;",c.radiusCut),y=d.inputNum("position:absolute;top:28px;left:225px;width:85px;height:18px;",c.heightCut);e.appendChild(f);e.appendChild(k);e.appendChild(l);e.appendChild(i);e.appendChild(j);e.appendChild(p);e.appendChild(m);e.appendChild(y);e.resetValue=function(){j.resetValue();
p.resetValue();m.resetValue();y.resetValue()};e.getValue=function(){return{radius:j.value,height:p.value,radiusCut:m.value,heightCut:y.value}};return e},cylinderDBtn:function(c){var e=d.div("position:absolute;top:5px;left:5px;width:320px;height:52px;color:#FFFFFF;"),f=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t007")),k=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",h.getLanguage("t001")),l=d.label("position:absolute;top:2px;left:160px;width:78px;height:24px;",
h.getLanguage("t013")),i=d.label("position:absolute;top:28px;left:160px;width:78px;height:24px;",h.getLanguage("t004")),j=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",c.radius),p=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",c.height),m=d.inputNum("position:absolute;top:2px;left:225px;width:85px;height:18px;",c.radiusCut),y=d.inputNum("position:absolute;top:28px;left:225px;width:85px;height:18px;",c.heightCut);e.appendChild(f);e.appendChild(k);
e.appendChild(l);e.appendChild(i);e.appendChild(j);e.appendChild(p);e.appendChild(m);e.appendChild(y);e.resetValue=function(){j.resetValue();p.resetValue();m.resetValue();y.resetValue()};e.getValue=function(){return{radius:j.value,height:p.value,radiusCut:m.value,heightCut:y.value}};return e},torusBtn:function(c){var e=d.div("position:absolute;top:5px;left:5px;width:320px;height:80px;color:#FFFFFF;"),f=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t007")),k=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",
h.getLanguage("t014")),l=d.label("position:absolute;top:54px;left:2px;width:78px;height:24px;",h.getLanguage("t015")),i=d.label("position:absolute;top:2px;left:160px;width:78px;height:24px;",h.getLanguage("t008")),j=d.label("position:absolute;top:28px;left:160px;width:78px;height:24px;",h.getLanguage("t016")),p=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",c.radius),m=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",c.thick),y=d.inputNum("position:absolute;top:54px;left:65px;width:85px;height:18px;",
c.rot),u=d.inputNum("position:absolute;top:2px;left:225px;width:85px;height:18px;",c.radiusCut),o=d.inputNum("position:absolute;top:28px;left:225px;width:85px;height:18px;",c.heightCut);e.appendChild(f);e.appendChild(k);e.appendChild(l);e.appendChild(i);e.appendChild(j);e.appendChild(p);e.appendChild(m);e.appendChild(y);e.appendChild(u);e.appendChild(o);e.resetValue=function(){p.resetValue();m.resetValue();y.resetValue();u.resetValue();o.resetValue()};e.getValue=function(){return{radius:p.value,thick:m.value,
rot:y.value,radiusCut:u.value,thickCut:o.value}};return e},cylinderEBtn:function(c){var e=d.div("position:absolute;top:5px;left:5px;width:320px;height:80px;color:#FFFFFF;"),f=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t017")),k=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",h.getLanguage("t018")),l=d.label("position:absolute;top:54px;left:2px;width:78px;height:24px;",h.getLanguage("t001")),i=d.label("position:absolute;top:2px;left:160px;width:78px;height:24px;",
h.getLanguage("t008")),j=d.label("position:absolute;top:28px;left:160px;width:78px;height:24px;",h.getLanguage("t004")),p=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",c.topRadius),m=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",c.bottomRadius),y=d.inputNum("position:absolute;top:54px;left:65px;width:85px;height:18px;",c.height),u=d.inputNum("position:absolute;top:2px;left:225px;width:85px;height:18px;",c.radiusCut),o=d.inputNum("position:absolute;top:28px;left:225px;width:85px;height:18px;",
c.heightCut);e.appendChild(f);e.appendChild(k);e.appendChild(l);e.appendChild(i);e.appendChild(j);e.appendChild(p);e.appendChild(m);e.appendChild(y);e.appendChild(u);e.appendChild(o);e.resetValue=function(){p.resetValue();m.resetValue();y.resetValue();u.resetValue();o.resetValue()};e.getValue=function(){return{topRadius:p.value,bottomRadius:m.value,height:y.value,radiusCut:u.value,heightCut:o.value}};return e},textBtn:function(c){var e=d.div("position:absolute;top:5px;left:5px;width:320px;height:80px;color:#FFFFFF;"),
f=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t019")),k=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",h.getLanguage("t020")),l=d.label("position:absolute;top:54px;left:2px;width:78px;height:24px;",h.getLanguage("t021")),i=d.label("position:absolute;top:2px;left:165px;width:78px;height:24px;",h.getLanguage("t022")),j=d.textarea("position:absolute;top:20px;left:160px;width:145px;height:50px;");j.className="inputNum";var p=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",
c.size),m=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",c.deep),y=d.inputNum("position:absolute;top:54px;left:65px;width:85px;height:18px;",c.cut);e.appendChild(f);e.appendChild(k);e.appendChild(l);e.appendChild(i);e.appendChild(p);e.appendChild(m);e.appendChild(y);e.appendChild(j);e.resetValue=function(){p.resetValue();m.resetValue();y.resetValue();j.value=""};e.getValue=function(){return{text:j.value,size:p.value,deep:m.value,cut:y.value}};return e},latheBtn:function(c){var e=
d.div("position:absolute;top:5px;left:5px;width:790px;height:500px;color:#FFFFFF;"),f=d.div("position:absolute;top:0px;left:0px;width:786px;height:450px;color:#FFFFFF;border:1px solid #FFFFFF; overflow:hidden;");e.appendChild(f);var k=new TCeditor.latheDrawer(f,!0),f=d.button(h.getLanguage("b010"),"normalbtn");f.style.cssText="position:absolute;top:451px;left:438px";e.appendChild(f);f.addEventListener("mouseup",function(){k.setCtrl("select")},!1);f=d.button(h.getLanguage("b011"),"normalbtn");f.style.cssText=
"position:absolute;top:451px;left:508px;";e.appendChild(f);f.addEventListener("mouseup",function(){k.setCtrl("line")},!1);f=d.button(h.getLanguage("b012"),"normalbtn");f.style.cssText="position:absolute;top:451px;left:578px;";e.appendChild(f);f.addEventListener("mouseup",function(){k.setCtrl("curve")},!1);f=d.button(h.getLanguage("b013"),"normalbtn");f.style.cssText="position:absolute;top:451px;left:648px;";e.appendChild(f);f.addEventListener("mouseup",function(){k.deleteLine()},!1);f=d.button(h.getLanguage("b008"),
"normalbtn");f.style.cssText="position:absolute;top:451px;left:718px;";e.appendChild(f);f.addEventListener("mouseup",function(){k.clear()},!1);f=d.label("position:absolute;top:456px;left:285px;width:78px;height:24px;",h.getLanguage("b014")+":   1\uff1a");e.appendChild(f);var l=d.inputNum("position:absolute;top:453px;left:350px;width:85px;height:18px;",{value:k.getScale(),step:1,max:10,min:1});e.appendChild(l);l.onmouseout=function(){k.setScale(this.value)};f=d.label("position:absolute;top:456px;left:170px;width:90px;height:24px;text-align:center;",
"x=1234 y=1234");e.appendChild(f);k.setShowBox(f);f=d.label("position:absolute;top:480px;left:2px;width:78px;height:24px;",h.getLanguage("t016"));e.appendChild(f);var i=d.inputNum("position:absolute;top:480px;left:65px;width:85px;height:18px;",c.cut);e.appendChild(i);f=d.label("position:absolute;top:480px;left:160px;width:78px;height:24px;",h.getLanguage("t015"));e.appendChild(f);var j=d.inputNum("position:absolute;top:480px;left:225px;width:85px;height:18px;",c.rot);e.appendChild(j);e.resetValue=
function(){i.resetValue();j.resetValue();k.clear();l.value=2;k.setScale(2)};e.getValue=function(){var c=k.getValue(),d=k.getScale(),e=[];if(1<c.length)for(var h=0;h<c.length;h++)e.push([c[h][0]*d,c[h][1]*d]);return{points:e,cut:i.value,rot:Math.PI*j.value/180}};return e},tubeBtn:function(c){function e(){if(1>s.value.length||0>s.value.indexOf("\n"))return[];var c=s.value.split("\n");if(2>c.length)return[];for(var d=[],k=0;k<c.length;k++)if(!(0>c[k].indexOf(","))){var f=c[k].split(",");3==f.length&&
d.push([parseInt(f[0])*parseInt(u.value),parseInt(f[1])*parseInt(u.value),parseInt(f[2])*parseInt(u.value)])}return 2>d.length?[]:d}var f=d.div("position:absolute;top:5px;left:5px;width:790px;height:500px;color:#FFFFFF;"),k=d.div("position:absolute;top:0px;left:0px;width:786px;height:450px;color:#FFFFFF;border:1px solid #FFFFFF; overflow:hidden;");f.appendChild(k);var l=new TCeditor.tubeViewer(k,786,450),k={value:0,step:1,max:9999,min:-9999},i=v(l,370,610);f.appendChild(i);i=d.label("position:absolute;top:480px;left:2px;width:78px;height:24px;",
h.getLanguage("t031"));f.appendChild(i);i=d.label("position:absolute;top:480px;left:160px;width:78px;height:24px;",h.getLanguage("t032"));f.appendChild(i);i=d.label("position:absolute;top:455px;left:160px;width:78px;height:24px;",h.getLanguage("t007"));f.appendChild(i);i=d.label("position:absolute;top:455px;left:2px;width:78px;height:24px;",h.getLanguage("t034"));f.appendChild(i);i=d.label("position:absolute;top:455px;left:326px;width:78px;height:24px;",h.getLanguage("b014"));f.appendChild(i);i=d.label("position:absolute;top:455px;left:405px;width:78px;height:24px;",
h.getLanguage("t035"));f.appendChild(i);var j=d.inputNum("position:absolute;top:480px;left:65px;width:85px;height:18px;",c.segments);f.appendChild(j);var p=d.inputNum("position:absolute;top:480px;left:225px;width:85px;height:18px;",c.radseg);f.appendChild(p);var m=d.inputNum("position:absolute;top:455px;left:225px;width:85px;height:18px;",c.radius);f.appendChild(m);var y=d.inputNum("position:absolute;top:455px;left:65px;width:85px;height:18px;",c.closed);f.appendChild(y);var u=d.inputNum("position:absolute;top:455px;left:360px;width:40px;height:18px;",
{value:1,step:1,max:10,min:1});f.appendChild(u);var o=d.inputNum("position:absolute;top:455px;left:460px;width:60px;height:18px;",k);f.appendChild(o);var q=d.inputNum("position:absolute;top:455px;left:523px;width:60px;height:18px;",k);f.appendChild(q);var A=d.inputNum("position:absolute;top:455px;left:586px;width:60px;height:18px;",k);f.appendChild(A);var s=d.textarea("position:absolute;top:0px;left:790px;width:195px;height:473px;background-color:#9B9B9B;");s.className="inputNum";f.appendChild(s);
c=d.button(h.getLanguage("b017"),"normalbtn");f.appendChild(c);c.style.cssText="position:absolute;top:454px;left:650px;";c.addEventListener("mouseup",function(){s.value+=o.value+","+q.value+","+A.value+"\n"},!1);c=d.button(h.getLanguage("b018"),"normalbtn");f.appendChild(c);c.addEventListener("mouseup",function(){l.addTube(e(),j.value,p.value,m.value,y.value)},!1);c.style.cssText="position:absolute;top:454px;left:718px;";f.resetValue=function(){j.resetValue();p.resetValue();m.resetValue();y.resetValue();
u.resetValue();o.resetValue();q.resetValue();A.resetValue();s.value=""};f.getValue=function(){return{points:e(),segments:j.value,radseg:p.value,radius:m.value,closed:y.value}};return f},surfaceBtn:function(c){var e=d.div("position:absolute;top:5px;left:5px;width:790px;height:500px;color:#FFFFFF;"),f=d.div("position:absolute;top:0px;left:0px;width:766px;height:500px;color:#FFFFFF;border:1px solid #FFFFFF; overflow:hidden;");e.appendChild(f);var k=new TCeditor.tubeViewer(f,766,500),f=v(k,410,590);e.appendChild(f);
var i=j(210,585,777,0,c);e.appendChild(i);c=d.button(h.getLanguage("b018"),"normalbtn");e.appendChild(c);c.addEventListener("mouseup",function(){k.addsurface(i.getValue())},!1);c.style.cssText="position:absolute;top:588px;left:710px;";e.resetValue=function(){i.resetValue()};e.getValue=function(){return i.getValue()};return e},shapesBtn:function(c){var e=d.div("position:absolute;top:5px;left:5px;width:790px;height:500px;color:#FFFFFF;"),f=d.div("position:absolute;top:0px;left:0px;width:786px;height:450px;color:#FFFFFF;border:1px solid #FFFFFF; overflow:hidden;");
e.appendChild(f);var k=new TCeditor.latheDrawer(f),f=d.button(h.getLanguage("b010"),"normalbtn");f.style.cssText="position:absolute;top:451px;left:438px";e.appendChild(f);f.addEventListener("mouseup",function(){k.setCtrl("select")},!1);f=d.button(h.getLanguage("b011"),"normalbtn");f.style.cssText="position:absolute;top:451px;left:508px;";e.appendChild(f);f.addEventListener("mouseup",function(){k.setCtrl("line")},!1);f=d.button(h.getLanguage("b012"),"normalbtn");f.style.cssText="position:absolute;top:451px;left:578px;";
e.appendChild(f);f.addEventListener("mouseup",function(){k.setCtrl("curve")},!1);f=d.button(h.getLanguage("b013"),"normalbtn");f.style.cssText="position:absolute;top:451px;left:648px;";e.appendChild(f);f.addEventListener("mouseup",function(){k.deleteLine()},!1);f=d.button(h.getLanguage("b008"),"normalbtn");f.style.cssText="position:absolute;top:451px;left:718px;";e.appendChild(f);f.addEventListener("mouseup",function(){k.clear()},!1);f=d.label("position:absolute;top:456px;left:285px;width:78px;height:24px;",
h.getLanguage("b014")+":   1\uff1a");e.appendChild(f);var i=d.inputNum("position:absolute;top:453px;left:350px;width:85px;height:18px;",{value:k.getScale(),step:1,max:10,min:1});e.appendChild(i);i.onmouseout=function(){k.setScale(this.value)};f=d.label("position:absolute;top:456px;left:170px;width:90px;height:24px;text-align:center;","x=1234 y=1234");e.appendChild(f);k.setShowBox(f);f=d.label("position:absolute;top:480px;left:2px;width:78px;height:24px;",h.getLanguage("t001"));e.appendChild(f);var l=
d.inputNum("position:absolute;top:480px;left:65px;width:85px;height:18px;",c.height);e.appendChild(l);e.resetValue=function(){l.resetValue();k.clear();i.value=2;k.setScale(2)};e.getValue=function(){var c=k.getValue(),d=k.getScale(),e=[];if(1<c.length)for(var f=0;f<c.length;f++)e.push([c[f][0]*d,c[f][1]*d]);return{points:e,height:l.value}};return e}},p=function(c,e){var f=d.div("position:absolute;top:"+(c-32)+"px;left:5px;width:160px;height:30px;"),k=d.input("text","disabled","position:absolute;top:2px;left:0px;width:85px;height:20px;");
k.className="inputNum";var i=d.button(h.getLanguage("b015"),"normalbtn");i.addEventListener("mouseup",function(){o(k,e)},!1);i.style.cssText="position:absolute;top:2px;left:88px;";f.appendChild(i);f.appendChild(k);f.resetValue=function(){k.value=""};f.getValue=function(){return k.value};return f},l=function(c){var c=d.div("position:absolute;top:"+(c-32)+"px;left:165px;width:160px;height:30px;color:#FFFFFF;"),e=d.label("position:absolute;top:5px;left:6px;width:78px;height:24px;",h.getLanguage("b016")),
f=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",{max:3,min:0,value:0,step:1});c.appendChild(e);c.appendChild(f);c.resetValue=function(){f.value=0};c.getValue=function(){return f.value};return c},J=function(c){var e={max:1E4,min:-1E4,value:0,step:5},c=d.div("position:absolute;top:"+(c-35-80)+"px;left:5px;width:160px;height:80px;color:#FFFFFF;"),f=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t023")),k=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",
h.getLanguage("t024")),i=d.label("position:absolute;top:54px;left:2px;width:78px;height:24px;",h.getLanguage("t025")),l=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",e),j=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",e),p=d.inputNum("position:absolute;top:54px;left:65px;width:85px;height:18px;",e);c.appendChild(l);c.appendChild(j);c.appendChild(p);c.appendChild(f);c.appendChild(k);c.appendChild(i);c.resetValue=function(){l.resetValue();j.resetValue();
p.resetValue()};c.getValue=function(){return{x:l.value,y:j.value,z:p.value}};return c},H=function(c){var e={max:360,min:0,value:0,step:1},c=d.div("position:absolute;top:"+(c-35-80)+"px;left:165px;width:160px;height:80px;color:#FFFFFF;"),f=d.label("position:absolute;top:2px;left:2px;width:78px;height:24px;",h.getLanguage("t026")),k=d.label("position:absolute;top:28px;left:2px;width:78px;height:24px;",h.getLanguage("t027")),i=d.label("position:absolute;top:54px;left:2px;width:78px;height:24px;",h.getLanguage("t028")),
l=d.inputNum("position:absolute;top:2px;left:65px;width:85px;height:18px;",e),j=d.inputNum("position:absolute;top:28px;left:65px;width:85px;height:18px;",e),p=d.inputNum("position:absolute;top:54px;left:65px;width:85px;height:18px;",e);c.appendChild(l);c.appendChild(j);c.appendChild(p);c.appendChild(f);c.appendChild(k);c.appendChild(i);c.resetValue=function(){l.resetValue();j.resetValue();p.resetValue()};c.getValue=function(){return{x:Math.PI*parseInt(l.value)/180,y:Math.PI*parseInt(j.value)/180,
z:Math.PI*parseInt(p.value)/180}};return c},u=function(c,e,f,k,h){var i=document.createElement("div");i.style.cssText="position:absolute;top:30px;width:"+e+"px;height:"+f+"px;";var j=J(f),m=H(f),u=p(f,h),y=l(f),o=B[c](k.args),e=d.label("white-space:normal;word-break:break-all;position:absolute;top:5px;left:330px;width:"+(e-335)+"px;height:"+(f-35)+"px;color:#FFFFFF;",k.help);if("latheBtn"==c||"shapesBtn"==c||"tubeBtn"==c||"surfaceBtn"==c){f=23;if("surfaceBtn"==c)f=0,e.style.width=e.style.width.split("px")[0]-
200+"px";e.style.top=parseInt(j.style.top.split("px")[0])-f+"px";e.style.height=j.style.height}i.appendChild(j);i.appendChild(m);i.appendChild(u);i.appendChild(y);i.appendChild(o);i.appendChild(e);i.getValue=function(){var c={};c.position=j.getValue();c.rotation=m.getValue();c.materialStr=u.getValue();c.corner=y.getValue();c.args=o.getValue();return c};i.resetValue=function(){j.resetValue();m.resetValue();u.resetValue();y.resetValue();o.resetValue()};return i},C=function(c){var e=c.width,i=c.height+
30,k=0.5*(w-i)-100;0>k&&(k=0);var l=d.div("top:"+k+"px;left:"+0.5*(f-e)+"px;position:absolute;border:1px solid #000000;background-color:#656565;width:"+e+"px;height:"+i+"px;opacity:0;");l.typeid="geo";k=d.div("position:absolute;top:0px;left:0px;height:30px;width:"+e+"px;background-image:url("+h.getImgUrl("boxtop")+");");k.addEventListener("mousedown",function(){m("move",l)},!1);k.addEventListener("mouseup",function(){m("clearmove",l)},!1);var j=d.div("position:absolute;top:0px;left:0px;height:30px;width:"+
(e-25)+"px;font-family:\u5fae\u8f6f\u96c5\u9ed1;color:#FFFFFF;font-size:14px;padding-top:4px;padding-left:4px;"),p=d.img(h.getImgUrl("close_normal"),"position:absolute;top:5px;left:"+(e-25)+"px;");p.addEventListener("mouseover",function(){p.src=h.getImgUrl("close_over")},!1);p.addEventListener("mouseout",function(){p.src=h.getImgUrl("close_normal")},!1);p.addEventListener("mouseup",function(){m("cancel",l)},!1);var o=u(c.btn,c.width,c.height,c.ctrlobj,l);l.appendChild(k);k.appendChild(p);k.appendChild(j);
j.innerHTML=c.title;l.appendChild(o);k=["b005","b006","b004"];for(j=0;j<k.length;j++){var q=d.button(h.getLanguage(k[j]),"normalbtn");q.id=h.getLanguage(k[j]);q.cmd=0==j?"ok":1==j?"reset":"cancel";q.style.cssText="position:absolute;top:"+(i-30)+"px;left:"+(e-71*k.length-5+70*j)+"px;";q.addEventListener("mouseup",function(){m(this.cmd,l)},!1);l.appendChild(q)}l.getValue=function(){var d=o.getValue();d.geo=c.btn;d.type=c.type;if(("latheBtn"==d.geo||"shapesBtn"==d.geo)&&1>d.args.points.length)return alert(h.getLanguage("a017")),
null;return"tubeBtn"==d.geo&&1>d.args.points.length?(alert(h.getLanguage("a021")),null):d};l.resetValue=function(){o.resetValue()};return l},A=function(c,e){var i={open:h.getLanguage("l004"),"import":h.getLanguage("l005"),"export":h.getLanguage("l006"),save:h.getLanguage("l007")},k=0.5*(w-430-30)-50;0>k&&(k=0);var l=0.5*(f-600);0>l&&(l=0);var j=d.div("top:"+k+"px;left:"+l+"px;position:absolute;border:1px solid #000000;background-color:#656565;width:600px;height:430px;opacity:0;");j.typeid="geo";k=
d.div("position:absolute;top:0px;left:0px;height:30px;width:600px;background-image:url("+h.getImgUrl("boxtop")+");");k.addEventListener("mousedown",function(){m("move",j)},!1);k.addEventListener("mouseup",function(){m("clearmove",j)},!1);var l=d.div("position:absolute;top:0px;left:0px;height:30px;width:575px;font-family:\u5fae\u8f6f\u96c5\u9ed1;color:#FFFFFF;font-size:14px;padding-top:4px;padding-left:4px;"),p=d.img(h.getImgUrl("close_normal"),"position:absolute;top:5px;left:575px;");p.addEventListener("mouseover",
function(){p.src=h.getImgUrl("close_over")},!1);p.addEventListener("mouseout",function(){p.src=h.getImgUrl("close_normal")},!1);p.addEventListener("mouseup",function(){m("cancel",j)},!1);var u=d.textarea("position:absolute;top:30px;left:0px;width:593px;height:360px;background-color:#656560;color:#c8c8c8;");j.appendChild(k);k.appendChild(p);k.appendChild(l);l.innerHTML=i[c];j.appendChild(u);u.value=e;i={open:["b007","b008","b004"],"import":["b009","b008","b004"],"export":["b001"],save:["b001"]}[c];
for(k=0;k<i.length;k++)l=d.button(h.getLanguage(i[k]),"normalbtn"),l.id=h.getLanguage(i[k]),l.cmd=i[k],l.style.cssText="position:absolute;top:400px;left:"+(600-71*i.length-5+70*k)+"px;",l.addEventListener("mouseup",function(){m(this.cmd,j)},!1),j.appendChild(l);j.resetValue=function(){u.value=""};j.getValue=function(){return u.value};return j},I=function(){var c=0.5*(w-430-30)-50;0>c&&(c=0);var e=0.5*(f-600);0>e&&(e=0);var i=d.div("top:"+c+"px;left:"+e+"px;position:absolute;border:1px solid #000000;background-color:#656565;width:600px;height:430px;opacity:0;");
i.typeid="geo";c=d.div("position:absolute;top:0px;left:0px;height:30px;width:600px;background-image:url("+h.getImgUrl("boxtop")+");");c.addEventListener("mousedown",function(){m("move",i)},!1);c.addEventListener("mouseup",function(){m("clearmove",i)},!1);var e=d.div("position:absolute;top:0px;left:0px;height:30px;width:575px;font-family:\u5fae\u8f6f\u96c5\u9ed1;color:#FFFFFF;font-size:14px;padding-top:4px;padding-left:4px;"),k=d.img(h.getImgUrl("close_normal"),"position:absolute;top:5px;left:575px;");
k.addEventListener("mouseover",function(){k.src=h.getImgUrl("close_over")},!1);k.addEventListener("mouseout",function(){k.src=h.getImgUrl("close_normal")},!1);k.addEventListener("mouseup",function(){m("cancel",i)},!1);var l=d.textarea("font-size:14px;font-family:\u5fae\u8f6f\u96c5\u9ed1;position:absolute;top:30px;left:0px;width:593px;height:360px;background-color:#656560;color:#FFFFFF;");l.disabled="disabled";i.appendChild(c);c.appendChild(k);c.appendChild(e);e.innerHTML=h.getLanguage("l010");i.appendChild(l);
l.value=h.getLanguage("h000");return i};return{resize:function(c,d){q.style.width=c+"px";q.style.height=d+"px"},helpWindow:function(){s(!1);x(q,0,30);x(I(),0,100)},ioWindow:function(c,d){x(q,0,30);x(A(c,d),0,100)},createWindow:function(c){x(q,0,30);x(C(c),0,100);s(!1)},clearWindow:function(c){x(c,100,0);"geo"==c.typeid&&(x(q,30,0),s(!0))},setFunWindow:function(c){m=c},setFunEnable:function(c){s=c}}};TCeditor=TCeditor||{};
TCeditor.scene=function(c,f,w){_width=f;_height=w;_cameraRadius=1E3;_cameraAngleA=40;_cameraAngleB=45;_cameraLookAt={x:0,y:0,z:0};_cameraMoveSpeed=0.3;var h=function(){var c=_cameraRadius*Math.sin(Math.PI*_cameraAngleA/180),d=_cameraRadius*Math.cos(Math.PI*_cameraAngleA/180)*Math.cos(Math.PI*_cameraAngleB/180),e=_cameraRadius*Math.cos(Math.PI*_cameraAngleA/180)*Math.sin(Math.PI*_cameraAngleB/180);return{x:d+_cameraLookAt.x,y:c+_cameraLookAt.y,z:e+_cameraLookAt.z}},d=document.createElement("div");d.style.cssText=
"position:absolute;width:"+f+"px;height:"+w+"px;top:0px;left:0px;";c.appendChild(d);var i=new THREE.Scene,m=new THREE.CombinedCamera(f,w,45,1,1E4,-2E3,1E4);m.position=h();m.lookAt(_cameraLookAt);i.add(m);var s=new THREE.Projector,q=new THREE.WebGLRenderer({preserveDrawingBuffer:!0,clearColor:8355711,clearAlpha:1});q.sortObjects=!1;q.setSize(f,w);d.appendChild(q.domElement);var x=new THREE.CubeCamera(1,1E3,100);x.renderTarget.minFilter=THREE.LinearMipMapLinearFilter;i.add(x);var z=new TCeditor.geometry(x),
e=null,o=null,v=null,j=null,c=new THREE.Mesh(new THREE.PlaneGeometry(2E3,2E3,50,50),new THREE.MeshBasicMaterial({color:13158600,wireframe:!0,transparent:!0}));c.doubleSided=!0;c.id="help_gridXOZ";e=c;c=new THREE.Mesh(new THREE.PlaneGeometry(2E3,2E3,50,50),new THREE.MeshBasicMaterial({color:13158600,wireframe:!0,transparent:!0}));c.doubleSided=!0;c.id="help_gridXOY";c.rotation.x=1.5*Math.PI;o=c;c=new THREE.AxisHelper;c.position.set(0,1,0);c.scale.x=c.scale.y=c.scale.z=2;for(f=0;f<c.children.length;f++)c.children[f].id=
"help_axis"+f;v=c;j=light=new THREE.DirectionalLight(16777215,1);i.add(e);i.add(o);i.add(v);i.add(j);o.visible=!1;var B=function(){5>Math.abs(_cameraAngleA)?(o.visible=!0,e.visible=!1,o.rotation.z=0.5*Math.PI-Math.PI*_cameraAngleB/180):(o.visible=!1,e.visible=!0)};return{printScene:function(c,d){var f=q.domElement.width,j=q.domElement.height;q.setSize(c,d);m=new THREE.CombinedCamera(c,d,45,1,1E4,-2E3,1E4);i.add(m);m.position=h();m.lookAt(_cameraLookAt);e.visible=!1;o.visible=!1;for(var u=0;u<v.children.length;u++)v.children[u].visible=
!1;q.render(i,m);var s=q.domElement.toDataURL("image/png");e.visible=!0;o.visible=!0;for(u=0;u<v.children.length;u++)v.children[u].visible=!0;q.setSize(f,j);m=new THREE.CombinedCamera(f,j,45,1,1E4,-2E3,1E4);i.add(m);m.lookAt(_cameraLookAt);m.position=h();return s},createGeometry:function(c){c=z.createGeo(c);i.add(c);return c},setCameraPos:function(c){if(m){_cameraAngleA=c.a;_cameraAngleB=c.b;if(c.d)_cameraRadius=c.d;m.position=h();B()}},setCameraLook:function(c){_cameraLookAt=c},getCameraPos:function(){return{a:_cameraAngleA,
b:_cameraAngleB,d:_cameraRadius}},getCameraLook:function(){return _cameraLookAt},getScene:function(){return i},getCubeCamera:function(){return x},setCameraZoom:function(c){_cameraRadius+=-_cameraRadius*c*_cameraMoveSpeed;m.position=h();B()},resetCamera:function(){_cameraAngleA=40;_cameraAngleB=45;_cameraRadius=1E3;_cameraLookAt={x:0,y:0,z:0};m.position=h();B()},setCameraLookAt:function(c,d){c=_cameraRadius*c*_cameraMoveSpeed;d=_cameraRadius*d*_cameraMoveSpeed;e.visible?(_cameraLookAt.x-=Math.sin(Math.PI*
_cameraAngleB/180)*c,_cameraLookAt.z+=Math.cos(Math.PI*_cameraAngleB/180)*c,_cameraLookAt.x-=Math.cos(Math.PI*_cameraAngleB/180)*d*Math.abs(m.position.y)/m.position.y,_cameraLookAt.z-=Math.sin(Math.PI*_cameraAngleB/180)*d*Math.abs(m.position.y)/m.position.y):(_cameraLookAt.x-=Math.sin(Math.PI*_cameraAngleB/180)*c,_cameraLookAt.z+=Math.cos(Math.PI*_cameraAngleB/180)*c,_cameraLookAt.y+=d);m.position=h();B()},getMouse3D:function(c){var d={x:0,y:0,z:0},f=s.pickingRay(new THREE.Vector3(2*(c.x/_width)-
1,2*-(c.y/_height)+1,1),m),c=null,c=o.visible?f.intersectObject(o):f.intersectObject(e),f=null,h=new THREE.Vector3,i=new THREE.Vector3;if(0<c.length){f=c[0];if(f.object.id==e.id)h.add(f.point,f.object.matrixRotationWorld.multiplyVector3(i)),d.x=h.x,d.z=h.z;if(f.object.id==o.id)h.add(f.point,f.object.matrixRotationWorld.multiplyVector3(i)),d.x=h.x,d.y=h.y,d.z=h.z}return d},findGeometry:function(c){c=s.pickingRay(new THREE.Vector3(2*(c.x/_width)-1,2*-(c.y/_height)+1,1),m).intersectObjects(i.__objects);
if(1>c.length)return null;for(var d=0;d<c.length&&!(0>(c[d].object.id+" ").indexOf("help"));d++);if(d==c.length)return null;_INTERSECTED=c[d].object;c=_INTERSECTED.iscontainer;for(d=_INTERSECTED.parent;!c&&d;)_INTERSECTED=d,d=_INTERSECTED.parent,c=_INTERSECTED.iscontainer;if(!c)return null;if(_INTERSECTED.groupid)_INTERSECTED=_INTERSECTED.parent;return _INTERSECTED?_INTERSECTED:null},resize:function(c,e){_width=c;_height=e;d.style.width=c+"px;";d.style.height=e+"px;";q.setSize(c,e);m=new THREE.CombinedCamera(c,
e,45,1,1E4,-2E3,1E4);i.add(m)},render:function(){m&&(m.lookAt(_cameraLookAt),x.updateCubeMap(q,i),j.position.set(m.position.x,m.position.y,m.position.z).normalize(),q.render(i,m))}}};TCeditor=TCeditor||{};
TCeditor.tubeViewer=function(c,f,w){function h(c){var d=[-3,-2.95,-2.9,-2.85,-2.8,-2.75,-2.7,-2.65,-2.6,-2.55,-2.5,-2.45,-2.4,-2.35,-2.3,-2.25,-2.2,-2.15,-2.1,-2.05,-2,-1.95,-1.9,-1.85,-1.8,-1.75,-1.7,-1.65,-1.6,-1.55,-1.5,-1.45,-1.4,-1.35,-1.3,-1.25,-1.2,-1.15,-1.1,-1.05,-1,-0.95,-0.9,-0.85,-0.8,-0.75,-0.7,-0.65,-0.6,-0.55,-0.5,-0.45,-0.4,-0.35,-0.3,-0.25,-0.2,-0.15,-0.1,-0.05,-1.02141E-14,0.05,0.1,0.15,0.2,0.25,0.3,0.35,0.4,0.45,0.5,0.55,0.6,0.65,0.7,0.75,0.8,0.85,0.9,0.95,1,1.05,1.1,1.15,1.2,1.25,
1.3,1.35,1.4,1.45,1.5,1.55,1.6,1.65,1.7,1.75,1.8,1.85,1.9,1.95,2,2.05,2.1,2.15,2.2,2.25,2.3,2.35,2.4,2.45,2.5,2.55,2.6,2.65,2.7,2.75,2.8,2.85,2.9,2.95,3],e=[0.004431848,0.005142641,0.005952532,0.006872767,0.007915452,0.009093563,0.010420935,0.011912244,0.013582969,0.015449347,0.0175283,0.019837354,0.02239453,0.02521822,0.028327038,0.031739652,0.035474593,0.039550042,0.043983596,0.048792019,0.053990967,0.059594706,0.065615815,0.072064874,0.078950158,0.086277319,0.094049077,0.102264925,0.110920835,
0.120009001,0.129517596,0.139430566,0.149727466,0.160383327,0.171368592,0.182649085,0.194186055,0.205936269,0.217852177,0.229882141,0.241970725,0.254059056,0.26608525,0.277984886,0.289691553,0.301137432,0.312253933,0.32297236,0.333224603,0.342943855,0.352065327,0.360526962,0.36827014,0.375240347,0.381387815,0.386668117,0.391042694,0.394479331,0.396952547,0.398443914,0.39894228,0.398443914,0.396952547,0.394479331,0.391042694,0.386668117,0.381387815,0.375240347,0.36827014,0.360526962,0.352065327,0.342943855,
0.333224603,0.32297236,0.312253933,0.301137432,0.289691553,0.277984886,0.26608525,0.254059056,0.241970725,0.229882141,0.217852177,0.205936269,0.194186055,0.182649085,0.171368592,0.160383327,0.149727466,0.139430566,0.129517596,0.120009001,0.110920835,0.102264925,0.094049077,0.086277319,0.078950158,0.072064874,0.065615815,0.059594706,0.053990967,0.048792019,0.043983596,0.039550042,0.035474593,0.031739652,0.028327038,0.02521822,0.02239453,0.019837354,0.0175283,0.015449347,0.013582969,0.011912244,0.010420935,
0.009093563,0.007915452,0.006872767,0.005952532,0.005142641,0.004431848],h=function(c){for(var f=0,h=0;h<d.length-1;h++)if(c>=d[h]&&c<=d[h+1]){f=0.5*(e[h]+e[h+1]);break}return f};return function(d,e){var i=0,k=0,j=0;switch(c.t){case "s01":length=parseInt(c.l);f=parseInt(c.w);w=parseInt(c.h);arr=c.p;t=e;h0=arr[0][0]*(1-t)*(1-t)*(1-t)+3*arr[0][1]*t*(1-t)*(1-t)+3*arr[0][2]*t*t*(1-t)+arr[0][3]*t*t*t;h1=arr[1][0]*(1-t)*(1-t)*(1-t)+3*arr[1][1]*t*(1-t)*(1-t)+3*arr[1][2]*t*t*(1-t)+arr[1][3]*t*t*t;h2=arr[2][0]*
(1-t)*(1-t)*(1-t)+3*arr[2][1]*t*(1-t)*(1-t)+3*arr[2][2]*t*t*(1-t)+arr[2][3]*t*t*t;h3=arr[3][0]*(1-t)*(1-t)*(1-t)+3*arr[3][1]*t*(1-t)*(1-t)+3*arr[3][2]*t*t*(1-t)+arr[3][3]*t*t*t;t=d;j=w*(h0*(1-t)*(1-t)*(1-t)+3*h1*t*(1-t)*(1-t)+3*h2*t*t*(1-t)+h3*t*t*t);i=length*(e-0.5);k=f*(d-0.5);break;case "s02":length=parseInt(c.l);f=parseInt(c.w);w=parseInt(c.h);t=parseFloat(c.i);d-=0.5;e-=0.5;i=e*length;k=d*f;j=w*((d*d+e*e)/(-t*t)+1);break;case "s03":r=parseInt(c.r);as=c.a;bs=c.b;a=e*(as[1]-as[0])+as[0];b=d*(bs[1]-
bs[0])+bs[0];i=r*Math.cos(a)*Math.cos(b);k=r*Math.cos(a)*Math.sin(b);j=r*Math.sin(a);break;case "s04":length=parseInt(c.l);f=parseInt(c.w);w=parseInt(c.h);d-=0.5;e-=0.5;uf=h(Math.sqrt(9*d*d+9*e*e));i=e*length;k=d*f;j=w*uf;break;case "s05":length=parseInt(c.l);f=parseInt(c.w);w=parseInt(c.h);p0=0;p1=parseFloat(c.p[0]);p2=parseFloat(c.p[1]);p3=parseFloat(c.p[2]);pn=0;t=d;i=(e-0.5)*length;j=w*(p0*(1-t)*(1-t)*(1-t)*(1-t)+4*p1*t*(1-t)*(1-t)*(1-t)+6*p2*t*t*(1-t)*(1-t)+4*p3*t*t*t*(1-t)+pn*t*t*t*t);k=(d-
0.5)*f;break;case "s06":length=parseInt(c.l);f=parseInt(c.w);w=parseInt(c.h);p1=parseFloat(c.p[0]);p2=parseFloat(c.p[1]);pn=p0=0;t=d;i=(e-0.5)*length;j=w*(p0*(1-t)*(1-t)*(1-t)+3*p1*t*(1-t)*(1-t)+3*p2*t*t*(1-t)+pn*t*t*t);k=(d-0.5)*f;break;case "s07":length=parseInt(c.l);f=parseInt(c.w);w=parseInt(c.h);d-=0.5;e-=0.5;uf=h(3*d);i=e*length;k=d*f;j=w*uf;break;case "s08":length=parseInt(c.l);f=parseInt(c.w);w=parseInt(c.h);t=parseFloat(c.i);d-=0.5;i=(e-0.5)*length;k=d*f;j=w*(d*d/(-t*t)+1);break;case "s09":length=
parseInt(c.l);f=parseInt(c.w);w=parseInt(c.h);as=c.a;d-=0.5;i=(e-0.5)*length;k=d*f;a=d*(as[1]-as[0])+as[0];j=Math.cos(a)*w;break;case "s10":r=parseInt(c.r),d-=0.5,e-=0.5,cosx=e/Math.sqrt(d*d+e*e),sinx=d/Math.sqrt(d*d+e*e),0.25<d*d+e*e?(i=0.5*r*cosx,k=0.5*r*sinx):(i=e*r,k=d*r)}return new THREE.Vector3(i,j,k)}}var d=1E3,i=60,m=45,s={x:0,y:0,z:0},q=0,x=0,z=0,e=0,o=function(){var c=d*Math.sin(Math.PI*i/180),e=d*Math.cos(Math.PI*i/180)*Math.cos(Math.PI*m/180),f=d*Math.cos(Math.PI*i/180)*Math.sin(Math.PI*
m/180);return{x:e+s.x,y:c+s.y,z:f+s.z}},v=new THREE.Scene,j=new THREE.CombinedCamera(f,w,45,1,1E4,-2E3,1E4);j.position=o();j.lookAt(s);v.add(j);var B=new THREE.DirectionalLight(16777215,1);v.add(B);var p=new THREE.WebGLRenderer({preserveDrawingBuffer:!0,clearColor:8355711,clearAlpha:1});p.sortObjects=!1;p.setSize(f,w);c.appendChild(p.domElement);c=new THREE.AxisHelper;c.position.set(0,0,0);c.scale.x=c.scale.y=c.scale.z=0.5;v.add(c);var l=null,J=function(c,e){c=0.001*d*c;e=0.001*d*e;1<Math.abs(i)?
(s.x-=Math.sin(Math.PI*m/180)*c,s.z+=Math.cos(Math.PI*m/180)*c,s.x-=Math.cos(Math.PI*m/180)*e*Math.abs(j.position.y)/j.position.y,s.z-=Math.sin(Math.PI*m/180)*e*Math.abs(j.position.y)/j.position.y):(s.x-=Math.sin(Math.PI*m/180)*c,s.z+=Math.cos(Math.PI*m/180)*c,s.y+=e)},H=function(){requestAnimationFrame(H);1==x&&50<d&&(d*=0.99);2==x&&5E3>d&&(d*=1.01);1==e&&(m+=0.5,360<m&&(m-=360));2==e&&(m-=0.5,360>m&&(m+=360));1==z&&89>i&&(i+=0.5);2==z&&-89<i&&(i-=0.5);1==q&&J(0,-1);2==q&&J(0,1);3==q&&J(-1,0);4==
q&&J(1,0);j.position=o();j.lookAt(s);B.position.set(j.position.x,j.position.y,j.position.z).normalize();p.render(v,j)};H();return{addTube:function(c,d,e,f,h){if(!(2>c.length)){l&&v.remove(l);for(var d=parseInt(d)||200,f=parseInt(f)||5,e=parseInt(e)||20,h=parseInt(h),i=[],j=0;j<c.length;j++)i.push(new THREE.Vector3(c[j][0],c[j][1],c[j][2]));c=new THREE.SplineCurve3(i);tube=new THREE.TubeGeometry(c,d,f,e,h,!1);l=THREE.SceneUtils.createMultiMaterialObject(tube,[new THREE.MeshLambertMaterial({color:6209344,
shading:THREE.FlatShading,vertexColors:THREE.VertexColors})]);v.add(l)}},addsurface:function(c){l&&v.remove(l);materials=[new THREE.MeshLambertMaterial({color:6209344,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:16777215,wireframe:!0,transparent:!0,opacity:0.1})];tube=new THREE.ParametricGeometry(h(c),parseInt(c.s),parseInt(c.s),1);l=THREE.SceneUtils.createMultiMaterialObject(tube,materials);l.children[0].doubleSided=!0;v.add(l)},look:function(c){q=
c},radius:function(c){x=c},angleA:function(c){z=c},angleB:function(c){e=c}}};TCeditor=TCeditor||{};
TCeditor.cameracontroller=function(c,f,w,h){var d=40,i=45,m={x:0,y:0,z:0},s=w-120-25,q=f-120,x=null,z="",e=new TCeditor.language(h),o=[],v=function(){var c=208*Math.sin(Math.PI*d/180),e=208*Math.cos(Math.PI*d/180)*Math.cos(Math.PI*i/180),f=208*Math.cos(Math.PI*d/180)*Math.sin(Math.PI*i/180);return{x:e+m.x,y:c+m.y,z:f+m.z}},j=document.createElement("div");j.style.cssText="position:absolute;width:120px;height:120px;top:"+s+"px;left:"+q+"px;";c.appendChild(j);var B=new THREE.Scene,p=new THREE.PerspectiveCamera(33,
1,1,1E4);p.position=v();p.lookAt(m);B.add(p);var l=new THREE.Projector,J=new THREE.WebGLRenderer;J.sortObjects=!1;J.setSize(120,120);j.appendChild(J.domElement);c=THREE.ImageUtils.loadTexture(e.getImgUrl("cir"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});f=new THREE.PlaneGeometry(100,100);c=new THREE.Mesh(f,c);c.position.y=-20;c.id="camera_ctrl_cir";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("left"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,
map:c});f=new THREE.PlaneGeometry(30,30);c=new THREE.Mesh(f,c);c.doubleSided=!0;c.position.z=20;c.rotation.x=0.5*Math.PI;c.id="camera_ctrl_left";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("right"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});f=new THREE.PlaneGeometry(30,30);c=new THREE.Mesh(f,c);c.doubleSided=!0;c.position.z=-20;c.rotation.y=Math.PI;c.rotation.x=-0.5*Math.PI;c.id="camera_ctrl_right";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("font"),
THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});f=new THREE.PlaneGeometry(30,30);c=new THREE.Mesh(f,c);c.doubleSided=!0;c.position.x=20;c.rotation.x=Math.PI/2;c.rotation.z=1.5*Math.PI;c.id="camera_ctrl_font";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("back"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});f=new THREE.PlaneGeometry(30,30);c=new THREE.Mesh(f,c);c.doubleSided=!0;c.position.x=-20;c.rotation.z=0.5*Math.PI;c.rotation.x=0.5*
Math.PI;c.id="camera_ctrl_back";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("top"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});f=new THREE.PlaneGeometry(30,30);c=new THREE.Mesh(f,c);c.doubleSided=!0;c.position.y=20;c.id="camera_ctrl_top";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("bottom"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});f=new THREE.PlaneGeometry(30,30);c=new THREE.Mesh(f,c);c.doubleSided=!0;c.position.y=
-20;c.rotation.x=Math.PI;c.id="camera_ctrl_bottom";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});c=new THREE.Mesh(new THREE.CubeGeometry(5,5,5),c);c.position.x=17.5;c.position.y=17.5;c.position.z=17.5;c.id="camera_ctrl_font_left_top";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});c=new THREE.Mesh(new THREE.CubeGeometry(5,
5,5),c);c.position.x=17.5;c.position.y=17.5;c.position.z=-17.5;B.add(c);o.push(c);c.id="camera_ctrl_font_right_top";c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});c=new THREE.Mesh(new THREE.CubeGeometry(5,5,5),c);c.position.x=-17.5;c.position.y=17.5;c.position.z=17.5;c.id="camera_ctrl_left_top_back";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,
map:c});c=new THREE.Mesh(new THREE.CubeGeometry(5,5,5),c);c.position.x=-17.5;c.position.y=17.5;c.position.z=-17.5;c.id="camera_ctrl_back_top_right";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});c=new THREE.Mesh(new THREE.CubeGeometry(5,5,5),c);c.position.x=17.5;c.position.y=-17.5;c.position.z=17.5;c.id="camera_ctrl_left_font_bottom";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),
THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});c=new THREE.Mesh(new THREE.CubeGeometry(5,5,5),c);c.position.x=17.5;c.position.y=-17.5;c.position.z=-17.5;c.id="camera_ctrl_font_right_bottom";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});c=new THREE.Mesh(new THREE.CubeGeometry(5,5,5),c);c.position.x=-17.5;c.position.y=-17.5;c.position.z=17.5;c.id="camera_ctrl_left_back_bottom";
B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});c=new THREE.Mesh(new THREE.CubeGeometry(5,5,5),c);c.position.x=-17.5;c.position.y=-17.5;c.position.z=-17.5;c.id="camera_ctrl_right_back_bottom";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});c=new THREE.Mesh(new THREE.CubeGeometry(30,5,5),c);c.position.x=
0;c.position.y=17.5;c.position.z=17.5;c.id="camera_ctrl_left_top";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});c=new THREE.Mesh(new THREE.CubeGeometry(30,5,5),c);c.position.x=0;c.position.y=-17.5;c.position.z=17.5;c.id="camera_ctrl_left_bottom";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});c=new THREE.Mesh(new THREE.CubeGeometry(30,
5,5),c);c.position.x=0;c.position.y=17.5;c.position.z=-17.5;c.id="camera_ctrl_top_right";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});c=new THREE.Mesh(new THREE.CubeGeometry(30,5,5),c);c.position.x=0;c.position.y=-17.5;c.position.z=-17.5;c.id="camera_ctrl_bottom_right";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,
map:c});c=new THREE.Mesh(new THREE.CubeGeometry(5,5,30),c);c.position.x=17.5;c.position.y=17.5;c.position.z=0;c.id="camera_ctrl_top_font";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});c=new THREE.Mesh(new THREE.CubeGeometry(5,5,30),c);c.position.x=17.5;c.position.y=-17.5;c.position.z=0;c.id="camera_ctrl_bottom_font";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),THREE.UVMapping);
c=new THREE.MeshBasicMaterial({color:16777215,map:c});c=new THREE.Mesh(new THREE.CubeGeometry(5,5,30),c);c.position.x=-17.5;c.position.y=17.5;c.position.z=0;c.id="camera_ctrl_top_back";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});c=new THREE.Mesh(new THREE.CubeGeometry(5,5,30),c);c.position.x=-17.5;c.position.y=-17.5;c.position.z=0;c.id="camera_ctrl_back_bottom";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),
THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});c=new THREE.Mesh(new THREE.CubeGeometry(5,30,5),c);c.position.x=17.5;c.position.y=0;c.position.z=17.5;c.id="camera_ctrl_font_left";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});c=new THREE.Mesh(new THREE.CubeGeometry(5,30,5),c);c.position.x=17.5;c.position.y=0;c.position.z=-17.5;c.id="camera_ctrl_font_right";B.add(c);o.push(c);
c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});c=new THREE.Mesh(new THREE.CubeGeometry(5,30,5),c);c.position.x=-17.5;c.position.y=0;c.position.z=-17.5;c.id="camera_ctrl_back_right";B.add(c);o.push(c);c=THREE.ImageUtils.loadTexture(e.getImgUrl("background"),THREE.UVMapping);c=new THREE.MeshBasicMaterial({color:16777215,map:c});c=new THREE.Mesh(new THREE.CubeGeometry(5,30,5),c);c.position.x=-17.5;c.position.y=0;c.position.z=
17.5;c.id="camera_ctrl_back_left";B.add(c);o.push(c);var c=function(c,d){var e=document.createElement("img");e.src=c;e.style.cssText=d;return e},H=c(e.getImgUrl("home"),"position:absolute;top:10px;left:10px;cursor:pointer;width:15px;height:15px;");H.addEventListener("mouseover",function(){H.src=e.getImgUrl("home_over")},!1);H.addEventListener("mouseout",function(){H.src=e.getImgUrl("home")},!1);j.appendChild(H);var u=c(e.getImgUrl("cameraRadiusNum_normal"),"position:absolute;top:10px;left:30px;cursor:pointer;width:15px;height:15px;");
u.addEventListener("mouseover",function(){u.src=e.getImgUrl("cameraRadiusNum_over")},!1);u.addEventListener("mouseout",function(){u.src="camera_zoom"==z?e.getImgUrl("cameraRadiusNum_active"):e.getImgUrl("cameraRadiusNum_normal")},!1);j.appendChild(u);var C=c(e.getImgUrl("cameraLookAt_normal"),"position:absolute;top:10px;left:50px;cursor:pointer;width:15px;height:15px;");C.addEventListener("mouseover",function(){C.src=e.getImgUrl("cameraLookAt_over")},!1);C.addEventListener("mouseout",function(){C.src=
"camera_move"==z?e.getImgUrl("cameraLookAt_active"):e.getImgUrl("cameraLookAt_normal")},!1);j.appendChild(C);var A=function(c,e){if("A"==e){var f=d,h=Math.abs(f-c)/10;if(1>h){d=c;p.position=v();return}d=f>c?d-h:d+h;p.position=v();setTimeout(function(){A(c,e)},5)}if("B"==e)f=i,h=Math.abs(f-c)/10,1>h?(i=c,p.position=v()):(i=f>c?i-h:i+h,p.position=v(),setTimeout(function(){A(c,e)},5))};return{toMainPoint:function(c){switch(c){case "camera_ctrl_font_left_top":A(45,"A");A(45,"B");break;case "camera_ctrl_left_top_back":A(45,
"A");A(135,"B");break;case "camera_ctrl_back_top_right":A(45,"A");A(225,"B");break;case "camera_ctrl_font_right_top":A(45,"A");A(315,"B");break;case "camera_ctrl_left_font_bottom":A(-45,"A");A(45,"B");break;case "camera_ctrl_left_back_bottom":A(-45,"A");A(135,"B");break;case "camera_ctrl_right_back_bottom":A(-45,"A");A(225,"B");break;case "camera_ctrl_font_right_bottom":A(-45,"A");A(315,"B");break;case "camera_ctrl_left_top":A(45,"A");A(90,"B");break;case "camera_ctrl_left_bottom":A(-45,"A");A(90,
"B");break;case "camera_ctrl_top_right":A(45,"A");A(270,"B");break;case "camera_ctrl_bottom_right":A(-45,"A");A(270,"B");break;case "camera_ctrl_top_font":A(45,"A");A(0,"B");break;case "camera_ctrl_bottom_font":A(-45,"A");A(0,"B");break;case "camera_ctrl_top_back":A(45,"A");A(180,"B");break;case "camera_ctrl_back_bottom":A(-45,"A");A(180,"B");break;case "camera_ctrl_font_left":A(0,"A");A(45,"B");break;case "camera_ctrl_font_right":A(0,"A");A(315,"B");break;case "camera_ctrl_back_right":A(0,"A");A(225,
"B");break;case "camera_ctrl_back_left":A(0,"A");A(135,"B");break;case "camera_ctrl_left":A(0,"A");A(90,"B");break;case "camera_ctrl_right":A(0,"A");A(270,"B");break;case "camera_ctrl_font":A(0,"A");A(0,"B");break;case "camera_ctrl_back":A(0,"A");A(180,"B");break;case "camera_ctrl_top":A(89,"A");break;case "camera_ctrl_bottom":A(-89,"A");break;case "camera_ctrl_cir":break;default:alert("error:"+c+" from <CameraControler.js> CameraMovePoint()")}},toHome:function(){d=40;i=45;p.position=v()},toA:function(c){c=
90*c/Math.PI/120;90>d&&90<d+c&&(c=0);-90<d&&-90>d+c&&(c=0);d+=c;p.position=v()},toB:function(c){i+=90*c/Math.PI/120;360<i&&(i-=360);0>i&&(i=360+i);p.position=v()},getCameraPos:function(){return{a:d,b:i}},setCameraPos:function(c){d=c.a;i=c.b},isMouseOver:function(c,d){return c<q||d<s||c>q+120||d>s+120?!1:!0},getCommand:function(c,d){if(25>d-s&&10<d-s){if(25>c-q&&10<c-q)return"camera_home";if(45>c-q&&30<c-q)return"camera_zoom";if(65>c-q&&50<c-q)return"camera_move"}var e;e=2*((c-q)/120)-1;var f=2*-((d-
s)/120)+1;x&&x.material.color.setHex(x.currentHex);e=new THREE.Vector3(e,f,0.5);l.unprojectVector(e,p);e=(new THREE.Ray(p.position,e.subSelf(p.position).normalize())).intersectObjects(o);if(1>e.length)e=x=null;else{for(f=0;f<e.length&&!(-1<e[f].object.id.indexOf("camera_ctrl"));f++);if(f==e.length)e=null;else{x=e[f].object;if(!x.currentHex)x.currentHex=x.material.color.getHex();x.material.color.setHex(3381759);e=x}}return e?e.id:""},setActive:function(c){C.src=e.getImgUrl("cameraLookAt_normal");u.src=
e.getImgUrl("cameraRadiusNum_normal");z=c;if("camera_zoom"==z)u.src=e.getImgUrl("cameraRadiusNum_active");if("camera_move"==z)C.src=e.getImgUrl("cameraLookAt_active")},render:function(){p.lookAt(m);J.render(B,p)},resize:function(c,d){s=d-120-25;q=c-120;j.style.top=s+"px";j.style.left=q+"px"}}};TCeditor=TCeditor||{};
TCeditor.materialViewer=function(c,f,w){function h(){requestAnimationFrame(h);var c=2.5E-4*Date.now();l.position.x=300*Math.sin(4*c);l.position.y=400*Math.cos(4*c);l.position.z=300*Math.cos(4*c);B.updateCubeMap(p,v);1==x&&50<d&&(d*=0.99);2==x&&5E3>d&&(d*=1.01);1==e&&(m+=0.5,360<m&&(m-=360));2==e&&(m-=0.5,360>m&&(m+=360));1==z&&89>i&&(i+=0.5);2==z&&-89<i&&(i-=0.5);1==q&&H(0,-1);2==q&&H(0,1);3==q&&H(-1,0);4==q&&H(1,0);j.position=o();j.lookAt(s);p.render(v,j)}var d=1E3,i=30,m=45,s={x:0,y:0,z:0},q=0,
x=0,z=0,e=0,o=function(){var c=d*Math.sin(Math.PI*i/180),e=d*Math.cos(Math.PI*i/180)*Math.cos(Math.PI*m/180),f=d*Math.cos(Math.PI*i/180)*Math.sin(Math.PI*m/180);return{x:e+s.x,y:c+s.y,z:f+s.z}},v=new THREE.Scene,j=new THREE.PerspectiveCamera(33,1,1,1E4);j.position=o();j.lookAt(s);v.add(j);j.lookAt(v.position);var B=new THREE.CubeCamera(1,1E3,100);B.renderTarget.minFilter=THREE.LinearMipMapLinearFilter;v.add(B);var p=new THREE.WebGLRenderer({preserveDrawingBuffer:!0,clearColor:8355711,clearAlpha:1});
p.sortObjects=!1;p.setSize(f,w);c.appendChild(p.domElement);c=new THREE.Mesh(new THREE.PlaneGeometry(2E3,2E3,25,25),new THREE.MeshBasicMaterial({color:6645093,wireframe:!0,transparent:!0}));c.doubleSided=!0;c.position.y=-50;v.add(c);var l=new THREE.Mesh(new THREE.SphereGeometry(4,8,8),new THREE.MeshBasicMaterial({color:16777215}));v.add(l);v.add(new THREE.AmbientLight(4473924));c=new THREE.DirectionalLight(16777215,1);c.position.set(1,1,1).normalize();v.add(c);c=new THREE.PointLight(16777215,2,800);
v.add(c);l.material.color=c.color;c.position=l.position;var J=new TCeditor.geometry(B),H=function(c,e){c=0.001*d*c;e=0.001*d*e;1<Math.abs(i)?(s.x-=Math.sin(Math.PI*m/180)*c,s.z+=Math.cos(Math.PI*m/180)*c,s.x-=Math.cos(Math.PI*m/180)*e*Math.abs(j.position.y)/j.position.y,s.z-=Math.sin(Math.PI*m/180)*e*Math.abs(j.position.y)/j.position.y):(s.x-=Math.sin(Math.PI*m/180)*c,s.z+=Math.cos(Math.PI*m/180)*c,s.y+=e)},u=null;new TCeditor.materials(B);h();return{showMaterial:function(c){u&&(v.remove(u),u=null);
u=J.createGeo(c);u.position.x=0;u.position.y=0;u.position.z=0;v.add(u)},look:function(c){q=c},radius:function(c){x=c},angleA:function(c){z=c},angleB:function(c){e=c}}};TCeditor=TCeditor||{};
TCeditor.FPS=function(c,f,w,h){var c=c||document.body,f=f||window.innerWidth,w=w||window.innerHeight,h=h||"TR",d={TR:{x:f-78,y:31},TL:{x:31,y:31},BL:{x:31,y:w-47},BR:{x:f-78,y:w-47}},i=d[h];i||(i={x:0,y:0});stats=new Stats;stats.domElement.style.cssText="position:absolute;top:"+i.y+"px;left:"+i.x+"px;";c.appendChild(stats.domElement);return{render:function(){stats.update()},resize:function(c,f){d={TR:{x:c-78,y:31},TL:{x:31,y:31},BL:{x:31,y:f-47},BR:{x:c-78,y:f-47}};i=d[h];stats.domElement.style.cssText="position:absolute;top:"+
i.y+"px;left:"+i.x+"px;"}}};TCeditor=TCeditor||{};
TCeditor.latheDrawer=function(c,f){var w=parseInt(c.style.width.split("px")[0]),h=parseInt(c.style.height.split("px")[0]),d=f||!1,i=1,m=null,s=[],q=null,x=function(d){for(var e=c,f=0,h=0;null!=e&&null!=e.offsetLeft;)f+=e.offsetLeft,h+=e.offsetTop,e=e.parentNode;return[d[0]-f,d[1]-h]},z=function(c){var e=c[0],c=c[1],c=0.5*h-c,e=e-0.5*w;0>c&&d&&(c=-c);return[e,c]},e=function(c){var d=c[0],c=c[1],d=0.5*w+d,c=0.5*h-c;return[d,c]},o=document.createElement("canvas");o.style.cssText="position:absolute;top:-1px;left:-1px;background-color:#656565;";
o.width=w;o.height=h;o.update=function(){this.getContext("2d").strokeStyle="#a9a9a9";this.getContext("2d").clearRect(0,0,w,h);for(var c=-7;c<w+1;c+=20)this.getContext("2d").moveTo(c+0.5,0.5),this.getContext("2d").lineTo(c+0.5,h+0.5);for(c=5;c<h+1;c+=20)this.getContext("2d").moveTo(0.5,c+0.5),this.getContext("2d").lineTo(w+0.5,c+0.5);this.getContext("2d").stroke()};c.appendChild(o);o.update();o=document.createElement("canvas");o.style.cssText="position:absolute;top:-1px;left:-1px;";o.width=w;o.height=
h;o.update=function(){this.getContext("2d").clearRect(0,0,this.width,this.height);this.getContext("2d").strokeStyle="#DAA520";this.getContext("2d").moveTo(0,0.5*this.height+0.5);this.getContext("2d").lineTo(this.width+0.5,0.5*this.height+0.5);this.getContext("2d").moveTo(0.5*this.width+0.5,0.5);this.getContext("2d").lineTo(0.5*this.width+0.5,this.height+0.5);this.getContext("2d").stroke()};c.appendChild(o);o.update();var v=document.createElement("canvas");v.style.cssText="position:absolute;top:0px;left:0px;";
v.width=w;v.height=h;v.update=function(c,d,f,i){this.width=w;this.height=h;this.getContext("2d").clearRect(0,0,this.width,this.height);this.getContext("2d").strokeStyle="#0F0";var j=function(c,d,e,f,h){var k=3*(e-c)/Math.sqrt((e-c)*(e-c)+(f-d)*(f-d)),i=3*(f-d)/Math.sqrt((e-c)*(e-c)+(f-d)*(f-d));h.moveTo(c,d);c+=k;for(d+=i;3<Math.sqrt((e-c)*(e-c)+(f-d)*(f-d));)h.lineTo(c,d),h.moveTo(c+k,d+i),c+=2*k,d+=2*i;h.lineTo(e,f)};c&&(_p0=e(c),_p1=e(d),_p2=e(f),_p3=e(i),j(_p0[0],_p0[1],_p1[0],_p1[1],this.getContext("2d")),
j(_p1[0],_p1[1],_p2[0],_p2[1],this.getContext("2d")),j(_p2[0],_p2[1],_p3[0],_p3[1],this.getContext("2d")));this.getContext("2d").stroke()};c.appendChild(v);var o=function(){var d=document.createElement("div");d.style.cssText="position:absolute;top:0px;left:0px;width:5px;height:5px;visibility:hidden;background-color:#00A8FF;";d.type="ctrlbtn";c.appendChild(d);d.ctrlObj=null;d.ctrlPoint="";d.addEventListener("mouseover",function(){this.style.backgroundColor="#FFFFFF"},!1);d.addEventListener("mouseout",
function(){this.style.backgroundColor="#00A8FF"},!1);d.addEventListener("mousedown",function(){q=this},!1);d.addEventListener("mouseup",function(){q=null},!1);return d},j=null,B=function(d){var f=document.createElement("canvas");j=f;f.style.cssText="position:absolute;top:0px;left:0px;background-color:#656565;";f.width=w;f.height=h;c.appendChild(f);f.addEventListener("mouseup",function(){j=null;c.removeChild(this)},!1);if(!(2>d.length)){f=f.getContext("2d");f.strokeStyle="#FFFFFF";var i=e(d[0]);f.moveTo(i[0],
i[1]);for(var l=1;l<d.length;l++)i=e(d[l]),f.lineTo(i[0],i[1]);f.stroke()}},p=function(c,d,e){var f=c[0],c=c[1],h=d[0],i=e[0],d=d[1],e=e[1],j=e-d,l=h-i,j=Math.abs(j*f+l*c+(i*d-h*e))/Math.sqrt(j*j+l*l);return f>Math.min(h,i)-5&&f<=Math.max(h,i)+5&&c>=Math.min(d,e)-5&&c<=Math.max(d,e)+5&&10>j?!0:!1},l=function(f,i){var j=document.createElement("canvas");c.appendChild(j);j.style.cssText="position:absolute;top:-1px;left:-1px;";j.width=w;j.height=h;j.id=(new Date).getTime();j.type="line";j.from=f;j.to=
i;j.update=function(){var c=e(this.from),f=e(this.to);this.width=w;this.height=h;this.getContext("2d").clearRect(0,0,this.width,this.height);this.getContext("2d").strokeStyle="#FFFFFF";this.getContext("2d").moveTo(c[0],c[1]);this.getContext("2d").lineTo(f[0],f[1]);d&&(c=e([this.from[0],-this.from[1]]),f=e([this.to[0],-this.to[1]]),this.getContext("2d").moveTo(c[0],c[1]),this.getContext("2d").lineTo(f[0],f[1]));this.getContext("2d").stroke()};j.mouseIn=function(c){return p(c,this.from,this.to)};j.setPoint=
function(c,d){if("f"==c)this.from=d;if("t"==c)this.to=d;this.update()};j.getPoint=function(c){return"f"==c||"from"==c?this.from:"t"==c||"to"==c?this.to:null};j.update();return j},J=function(f,i,j,l,m){var o=document.createElement("canvas");c.appendChild(o);o.style.cssText="position:absolute;top:-1px;left:-1px;";o.width=w;o.height=h;o.id=(new Date).getTime();o.type="curve";o.p0=f;o.p1=i;o.p2=j;o.p3=l;o.step=m||0.05;o.path=[];o.update=function(){this.width=w;this.height=h;this.getContext("2d").clearRect(0,
0,this.width,this.height);this.getContext("2d").strokeStyle="#FFFFFF";var c=[];_p0=e(this.p0);_p1=e(this.p1);_p2=e(this.p2);_p3=e(this.p3);c.push(this.p0);this.getContext("2d").moveTo(_p0[0],_p0[1]);for(var f=0;1>=f;f+=this.step){var k=_p0[0]*(1-f)*(1-f)*(1-f)+3*_p1[0]*f*(1-f)*(1-f)+3*_p2[0]*f*f*(1-f)+_p3[0]*f*f*f,i=_p0[1]*(1-f)*(1-f)*(1-f)+3*_p1[1]*f*(1-f)*(1-f)+3*_p2[1]*f*f*(1-f)+_p3[1]*f*f*f;c.push(z([k,i]));this.getContext("2d").lineTo(k,i)}this.getContext("2d").lineTo(_p3[0],_p3[1]);c.push(z([_p3[0],
_p3[1]]));if(d){_p0=e([c[0][0],-c[0][1]]);this.getContext("2d").moveTo(_p0[0],_p0[1]);for(f=1;f<c.length;f++)_p1=e([c[f][0],-c[f][1]]),this.getContext("2d").lineTo(_p1[0],_p1[1])}this.getContext("2d").stroke();o.path=c};o.mouseIn=function(c){for(var d=0;d<this.path.length-1;d++)if(p(c,this.path[d],this.path[d+1]))return!0;return!1};o.setPoint=function(c,d){if("p0"==c)this.p0=d;if("p1"==c)this.p1=d;if("p2"==c)this.p2=d;if("p3"==c)this.p3=d;this.update()};o.getPoint=function(c){return"p0"==c||"from"==
c?this.p0:"p1"==c?this.p1:"p2"==c?this.p2:"p3"==c||"to"==c?this.p3:null};o.update();return o},H=function(){if(0==s.length)return[];for(var c=[],d={},e=0;e<s.length;e++){var f={pos:[],pro:null,next:null},h=s[e].getPoint("from");f.pos=[h[0],h[1]];d[e+"_0"]=f;f={pos:[],pro:null,next:null};h=s[e].getPoint("to");f.pos=[h[0],h[1]];d[e+"_1"]=f}e="0_0";f="0_1";d[e].next=f;d[f].pro=e;for(var h=u(d,e),i=u(d,f);h||i;){if(h[1]<i[1]){d[e].pro=h[0];d[h[0]].next=e;var j=h[0].split("_");1==j[1]?(d[h[0]].pro=j[0]+
"_0",e=j[0]+"_0"):(d[h[0]].pro=j[0]+"_1",e=j[0]+"_1");d[e].next=h[0]}else d[f].next=i[0],d[i[0]].pro=f,j=i[0].split("_"),1==j[1]?(d[i[0]].next=j[0]+"_0",f=j[0]+"_0"):(d[i[0]].next=j[0]+"_1",f=j[0]+"_1"),d[f].pro=i[0];h=u(d,e);i=u(d,f)}var e=null,l;for(l in d)d[l].pro||(e=l);if(!e)return c;for(;e;)if(l=e.split("_"),f=s[1*l[0]]){if("line"==f.type)"1"==l[1]?(c.push(f.getPoint("to")),c.push(f.getPoint("from"))):(c.push(f.getPoint("from")),c.push(f.getPoint("to")));else if(f=f.path,"1"==l[1])for(l=f.length-
1;-1<l;l--)c.push(f[l]);else for(l=0;l<f.length;l++)c.push(f[l]);e=d[d[e].next].next}return c},u=function(c,d){var e=999999,f="",h=-1,i;for(i in c)if(!c[i].pro&&!c[i].next){var j=Math.sqrt((c[i].pos[0]-c[d].pos[0])*(c[i].pos[0]-c[d].pos[0])+(c[i].pos[1]-c[d].pos[1])*(c[i].pos[1]-c[d].pos[1]));e>j&&(e=h=j,f=i)}return 0>h?null:[f,h]},C=o(),A=o(),I=o(),E=o(),K=!1,G=null;c.addEventListener("mouseup",function(c){K=!1;c=z(x([c.clientX,c.clientY]));if(0<s.length&&!q){v.update();for(var d=s.length-1;-1<d&&
!s[d].mouseIn(c);d--);if(!(0>d))if(c=s[d],G=s[d],"line"==c.type){var d=c.getPoint("f"),f=c.getPoint("t");C.style.visibility="visible";A.style.visibility="visible";I.style.visibility="hidden";E.style.visibility="hidden";C.style.zIndex=C.parentNode.childNodes.length-1;A.style.zIndex=C.parentNode.childNodes.length-2;C.style.left=e(d)[0]-2.5+"px";C.style.top=e(d)[1]-2.5+"px";C.ctrlObj=c;C.ctrlPoint="f";A.style.left=e(f)[0]-2.5+"px";A.style.top=e(f)[1]-2.5+"px";A.ctrlObj=c;A.ctrlPoint="t"}else if("curve"==
c.type){var d=c.getPoint("p0"),f=c.getPoint("p1"),h=c.getPoint("p2"),i=c.getPoint("p3");v.update(d,f,h,i);C.style.visibility="visible";A.style.visibility="visible";I.style.visibility="visible";E.style.visibility="visible";C.style.zIndex=C.parentNode.childNodes.length-1;A.style.zIndex=C.parentNode.childNodes.length-2;I.style.zIndex=C.parentNode.childNodes.length-3;E.style.zIndex=C.parentNode.childNodes.length-4;C.style.left=e(d)[0]-2.5+"px";C.style.top=e(d)[1]-2.5+"px";C.ctrlObj=c;C.ctrlPoint="p0";
A.style.left=e(f)[0]-2.5+"px";A.style.top=e(f)[1]-2.5+"px";A.ctrlObj=c;A.ctrlPoint="p1";I.style.left=e(h)[0]-2.5+"px";I.style.top=e(h)[1]-2.5+"px";I.ctrlObj=c;I.ctrlPoint="p2";E.style.left=e(i)[0]-2.5+"px";E.style.top=e(i)[1]-2.5+"px";E.ctrlObj=c;E.ctrlPoint="p3"}}},!1);c.addEventListener("mousedown",function(){K=!0},!1);c.addEventListener("mousemove",function(c){c=z(x([c.clientX,c.clientY]));if(m)m.innerHTML=c[0]+"/"+c[1];if(K&&q&&(q.style.left=e(c)[0]-2.5+"px",q.style.top=e(c)[1]-2.5+"px",q.ctrlObj.setPoint(q.ctrlPoint,
c),"curve"==q.ctrlObj.type)){var c=q.ctrlObj.getPoint("p0"),d=q.ctrlObj.getPoint("p1"),f=q.ctrlObj.getPoint("p2"),h=q.ctrlObj.getPoint("p3");v.update(c,d,f,h)}},!1);return{setShowBox:function(c){m=c},setCtrl:function(d){G=null;v.update();C.style.visibility="hidden";A.style.visibility="hidden";I.style.visibility="hidden";E.style.visibility="hidden";j&&(c.removeChild(j),j=null);if("line"==d){var f=[-100,50],h=[100,50],i=l(f,h);C.style.visibility="visible";A.style.visibility="visible";I.style.visibility=
"hidden";E.style.visibility="hidden";C.style.zIndex=C.parentNode.childNodes.length-1;A.style.zIndex=C.parentNode.childNodes.length-2;C.style.left=e(f)[0]-2.5+"px";C.style.top=e(f)[1]-2.5+"px";C.ctrlObj=i;C.ctrlPoint="f";A.style.left=e(h)[0]-2.5+"px";A.style.top=e(h)[1]-2.5+"px";A.ctrlObj=i;A.ctrlPoint="t";s.push(i)}if("curve"==d){var d=[-100,50],f=[-34,100],h=[34,100],i=[100,50],m=J(d,f,h,i);v.update(d,f,h,i);C.style.visibility="visible";A.style.visibility="visible";I.style.visibility="visible";E.style.visibility=
"visible";C.style.zIndex=C.parentNode.childNodes.length-1;A.style.zIndex=C.parentNode.childNodes.length-2;I.style.zIndex=C.parentNode.childNodes.length-3;E.style.zIndex=C.parentNode.childNodes.length-4;C.style.left=e(d)[0]-2.5+"px";C.style.top=e(d)[1]-2.5+"px";C.ctrlObj=m;C.ctrlPoint="p0";A.style.left=e(f)[0]-2.5+"px";A.style.top=e(f)[1]-2.5+"px";A.ctrlObj=m;A.ctrlPoint="p1";I.style.left=e(h)[0]-2.5+"px";I.style.top=e(h)[1]-2.5+"px";I.ctrlObj=m;I.ctrlPoint="p2";E.style.left=e(i)[0]-2.5+"px";E.style.top=
e(i)[1]-2.5+"px";E.ctrlObj=m;E.ctrlPoint="p3";s.push(m)}},clear:function(){for(;0<s.length;){try{c.removeChild(s[0])}catch(d){}s.shift()}j&&(c.removeChild(j),j=null);v.update()},deleteLine:function(){if(G){c.removeChild(G);for(var d=[],e=0;e<s.length;e++)s[e].id!=G.id&&d.push(s[e]);C.style.visibility="hidden";A.style.visibility="hidden";I.style.visibility="hidden";E.style.visibility="hidden";G=null;v.update();s=d}else alert("\u5148\u9009\u62e9\u7ebf\u6761\uff01")},getView:function(){B(H())},getValue:function(){return H()},
setScale:function(c){i=c},getScale:function(){return i}}};
